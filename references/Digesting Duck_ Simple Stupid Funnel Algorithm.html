<!DOCTYPE html>
<!-- saved from url=(0076)http://digestingduck.blogspot.kr/2010/03/simple-stupid-funnel-algorithm.html -->
<html class="v2 gr__digestingduck_blogspot_kr" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="width=1100" name="viewport">

<script src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/cb=gapi.loaded_3" async=""></script><script src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/cb=gapi.loaded_2" async=""></script><script src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/cb=gapi.loaded_1" async=""></script><script src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var h=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart,e=a.responseStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_",
"_wtsrt",e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script>
<meta content="blogger" name="generator">
<link href="http://digestingduck.blogspot.kr/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Digesting Duck - Atom" href="http://digestingduck.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Digesting Duck - RSS" href="http://digestingduck.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Digesting Duck - Atom" href="https://www.blogger.com/feeds/1272803659321539598/posts/default">

<link rel="alternate" type="application/atom+xml" title="Digesting Duck - Atom" href="http://digestingduck.blogspot.com/feeds/561673051536523114/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1494333581-ieretrofit.js"></script>
<![endif]-->
<link href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/funnel.png" rel="image_src">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Digesting Duck: Simple Stupid Funnel Algorithm</title>
<link type="text/css" rel="stylesheet" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/1578089587-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/gsearch.css">
<link type="text/css" rel="stylesheet" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/authorization.css">
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#66bbdd"/>
<Group description="Page Text" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#222222"/>
</Group>
<Group description="Backgrounds" selector=".body-fauxcolumns-outer">
<Variable name="body.background.color" description="Outer Background" type="color" default="#66bbdd"/>
<Variable name="content.background.color" description="Main Background" type="color" default="#ffffff"/>
<Variable name="header.background.color" description="Header Background" type="color" default="transparent"/>
</Group>
<Group description="Links" selector=".main-outer">
<Variable name="link.color" description="Link Color" type="color" default="#2288bb"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#888888"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Font" type="font"
default="normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#3399bb" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.text.color" description="Description Color" type="color"
default="#777777" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#999999"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#000000"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#f5f5f5"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Post Title" selector="h3.post-title, .comments h4">
<Variable name="post.title.font" description="Font" type="font"
default="normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
</Group>
<Group description="Date Header" selector=".date-header">
<Variable name="date.header.color" description="Text Color" type="color"
default="#444444"/>
<Variable name="date.header.background.color" description="Background Color" type="color"
default="transparent"/>
<Variable name="date.header.font" description="Text Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.header.padding" description="Date Header Padding" type="string" default="inherit"/>
<Variable name="date.header.letterspacing" description="Date Header Letter Spacing" type="string" default="inherit"/>
<Variable name="date.header.margin" description="Date Header Margin" type="string" default="inherit"/>
</Group>
<Group description="Post Footer" selector=".post-footer">
<Variable name="post.footer.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="post.footer.background.color" description="Background Color" type="color"
default="#f9f9f9"/>
<Variable name="post.footer.border.color" description="Shadow Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Gadgets" selector="h2">
<Variable name="widget.title.font" description="Title Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Title Color" type="color" default="#000000"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#999999"/>
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="#ffffff"/>
<Variable name="image.border.color" description="Border Color" type="color" default="#eeeeee"/>
<Variable name="image.text.color" description="Caption Text Color" type="color" default="#444444"/>
</Group>
<Group description="Accents" selector=".content-inner">
<Variable name="body.rule.color" description="Separator Line Color" type="color" default="#eeeeee"/>
<Variable name="tabs.border.color" description="Tabs Border Color" type="color" default="transparent"/>
</Group>
<Variable name="body.background" description="Body Background" type="background"
color="#ffffff" default="$(color) none repeat scroll top left"/>
<Variable name="body.background.override" description="Body Background Override" type="string" default=""/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="body.background.gradient.tile" description="Body Gradient Tile" type="url"
default="url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png)"/>
<Variable name="content.background.color.selector" description="Content Background Color Selector" type="string" default=".content-inner"/>
<Variable name="content.padding" description="Content Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.padding.horizontal" description="Content Horizontal Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="40px" min="0" max="100px"/>
<Variable name="content.shadow.spread.webkit" description="Content Shadow Spread (WebKit)" type="length" default="5px" min="0" max="100px"/>
<Variable name="content.shadow.spread.ie" description="Content Shadow Spread (IE)" type="length" default="10px" min="0" max="100px"/>
<Variable name="main.border.width" description="Main Border Width" type="length" default="0" min="0" max="10px"/>
<Variable name="header.background.gradient" description="Header Gradient" type="url" default="none"/>
<Variable name="header.shadow.offset.left" description="Header Shadow Offset Left" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.offset.top" description="Header Shadow Offset Top" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.spread" description="Header Shadow Spread" type="length" default="1px" min="0" max="100px"/>
<Variable name="header.padding" description="Header Padding" type="length" default="30px" min="0" max="100px"/>
<Variable name="header.border.size" description="Header Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.bottom.border.size" description="Header Bottom Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.border.horizontalsize" description="Header Horizontal Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="description.text.size" description="Description Text Size" type="string" default="140%"/>
<Variable name="tabs.margin.top" description="Tabs Margin Top" type="length" default="0" min="0" max="100px"/>
<Variable name="tabs.margin.side" description="Tabs Side Margin" type="length" default="30px" min="0" max="100px"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="tabs.border.width" description="Tabs Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="tabs.bevel.border.width" description="Tabs Bevel Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="post.margin.bottom" description="Post Bottom Margin" type="length" default="25px" min="0" max="100px"/>
<Variable name="image.border.small.size" description="Image Border Small Size" type="length" default="2px" min="0" max="10px"/>
<Variable name="image.border.large.size" description="Image Border Large Size" type="length" default="5px" min="0" max="10px"/>
<Variable name="page.width.selector" description="Page Width Selector" type="string" default=".region-inner"/>
<Variable name="page.width" description="Page Width" type="string" default="auto"/>
<Variable name="main.section.margin" description="Main Section Margin" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding" description="Main Padding" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding.top" description="Main Padding Top" type="length" default="30px" min="0" max="100px"/>
<Variable name="main.padding.bottom" description="Main Padding Bottom" type="length" default="30px" min="0" max="100px"/>
<Variable name="paging.background"
color="#ffffff"
description="Background of blog paging area" type="background"
default="transparent none no-repeat scroll top center"/>
<Variable name="footer.bevel" description="Bevel border length of footer" type="length" default="0" min="0" max="10px"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.background.size" description="Mobile Background Size" type="string" default="auto"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
background: #ffffff none repeat scroll top left;
padding: 0 0 0 0;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #2288bb;
}
a:visited {
text-decoration:none;
color: #888888;
}
a:hover {
text-decoration:underline;
color: #33aaff;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
background: #ffffff none repeat scroll top left;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 0 #333333;
box-shadow: 0 0 0 rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 40px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #444444;
text-shadow: 0 0 0 rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #444444;
}
.Header .description {
font-size: 18px;
color: #bbbbbb;
}
.header-inner .Header .titlewrapper {
padding: 22px 0;
}
.header-inner .Header .descriptionwrapper {
padding: 0 0;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #dddddd;
}
.tabs-inner .section:first-child ul {
margin-top: -1px;
border-top: 1px solid #dddddd;
border-left: 1px solid #dddddd;
border-right: 1px solid #dddddd;
}
.tabs-inner .widget ul {
background: transparent none repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #dddddd;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
border-left: 1px solid #ffffff;
border-right: 1px solid #dddddd;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid transparent;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid transparent;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid transparent;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 10px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #999999;
padding: 0.4em;
letter-spacing: 3px;
margin: inherit;
}
.main-inner {
padding-top: 35px;
padding-bottom: 65px;
}
.main-inner .column-center-inner {
padding: 0 0;
}
.main-inner .column-center-inner .section {
margin: 0 1em;
}
.post {
margin: 0 0 45px 0;
}
h3.post-title, .comments h4 {
font: normal normal 30px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #444444;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #eeeeee;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid transparent;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #eeeeee;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid transparent;
}
.blog-pager {
background: transparent url(http://www.blogblog.com/1kt/simple/paging_dot.png) repeat-x scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 1px dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #444444;
}
.mobile-link-button {
background-color: #2288bb;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #dddddd;
border-bottom: 1px solid #dddddd;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #dddddd;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 860px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 860px;
max-width: 860px;
_width: 860px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 260px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 260px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("260px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 260px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 260px;
margin-right: -260px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<script type="text/javascript">var a="&m=1",d="(^|&)m=",e="?",f="?m=1";function g(){var b=window.location.href,c=b.split(e);switch(c.length){case 1:return b+f;case 2:return 0<=c[1].search(d)?null:b+a;default:return null}}var h=navigator.userAgent;if(-1!=h.indexOf("Mobile")&&-1!=h.indexOf("WebKit")&&-1==h.indexOf("iPad")||-1!=h.indexOf("Opera Mini")||-1!=h.indexOf("IEMobile")){var k=g();k&&window.location.replace(k)};
</script><style type="text/css"></style><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/js/google_top_exp.js"></script><script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/saved_resource"></script><style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5 !important}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailtop,.tbl-grey .pls-tailright,.tbl-grey .pls-tailleft,.tbl-grey .pls-dropTR,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png) !important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0} </style><link type="text/css" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/default+en.css" rel="stylesheet"><script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/default+en.I.js"></script></head>
<body class=" variant-simplysimple">
<div class="navbar section" id="navbar" name="Navbar"><div class="widget Navbar" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" width="100%" id="navbar-iframe" name="navbar-iframe" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/navbar.html"></iframe></div>
<script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
        gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
          if (gapi.iframes && gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: 'https://www.blogger.com/navbar.g?targetBlogID\0751272803659321539598\46blogName\75Digesting+Duck\46publishMode\75PUBLISH_MODE_BLOGSPOT\46navbarType\75LIGHT\46layoutType\75LAYOUTS\46searchRoot\75//digestingduck.blogspot.com/search\46blogLocale\75en\46v\0752\46homepageUrl\75http://digestingduck.blogspot.com/\46targetPostID\075561673051536523114\46blogPostOrPageUrl\75http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html\46vt\75-5362891205182530902',
                where: document.getElementById("navbar-iframe-container"),
                id: "navbar-iframe"
            });
          }
        });
      </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="Header"><div class="widget Header" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://digestingduck.blogspot.kr/">Digesting Duck</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>Blog about game AI and prototyping</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs section" id="crosscol" name="Cross-Column"></div>
<div class="tabs section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="Main"><div id="uds-searchControl"><a name="uds-search-results"></a><div id="uds-searchResults"><div class="gsc-control" dir="ltr"><div class="gsc-results-wrapper-nooverlay"><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">This Blog</div><span class="gs-spacer"> </span><div tabindex="0" class=" gsc-tabHeader gsc-tabhInactive gsc-inline-block">Linked From Here</div><span class="gs-spacer"> </span><div tabindex="0" class=" gsc-tabHeader gsc-tabhInactive gsc-inline-block">The Web</div><span class="gs-spacer"> </span></div><div class="gsc-above-wrapper-area-invisible"><table cellspacing="0" cellpadding="0" class="gsc-above-wrapper-area-container"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td></tr></tbody></table></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">This Blog</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"><span class="gsc-configLabel gsc-twiddle-closed" title="settings">&nbsp;</span></td></tr></tbody></table><div class="gsc-config gsc-blogConfig" style="display: none;"><form class="gsc-config gsc-blogConfig"></form></div><div><div class="gsc-expansionArea"></div></div></div><div class="gsc-resultsRoot gsc-tabData gsc-tabdInactive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Linked From Here</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div><div class="gsc-resultsRoot gsc-tabData gsc-tabdInactive"><table cellspacing="0" cellpadding="0" class="gsc-resultsHeader"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">The Web</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-more-results-active"><div class="gsc-result-selector gsc-one-result" title="show one result">&nbsp;</div><div class="gsc-result-selector gsc-more-results" title="show more results">&nbsp;</div><div class="gsc-result-selector gsc-all-results" title="show all results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div></div><div id="uds-searchClearResults" class="gsc-clear-button" style="display: none;">&nbsp;</div></div><div class="widget Blog" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>Monday, March 8, 2010</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="http://2.bp.blogspot.com/_-u6ZJlBFOL0/S5TVpqoFDBI/AAAAAAAAAMA/EX_UdewULu0/s400/funnel.png" itemprop="image_url">
<meta content="1272803659321539598" itemprop="blogId">
<meta content="561673051536523114" itemprop="postId">
<a name="561673051536523114"></a>
<h3 class="post-title entry-title" itemprop="name">
Simple Stupid Funnel Algorithm
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-561673051536523114" itemprop="description articleBody">
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_-u6ZJlBFOL0/S5TVpqoFDBI/AAAAAAAAAMA/EX_UdewULu0/s1600-h/funnel.png"><img style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; width: 400px; height: 203px;" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/funnel.png" alt="" id="BLOGGER_PHOTO_ID_5446212761191517202" border="0"></a><br><span style="font-size:85%;"><span style="font-weight: bold;font-size:78%;">[EDIT]</span> Fixed that example scenario below.</span><br><br>There's a nice master class over at <a href="http://aigamedev.com/">AIGameDev.com</a> about pathfinding: Hierarchical Pathfinding Tips &amp; Tricks with Alexander Kring. That slide about <a href="http://www.valvesoftware.com/publications/2009/ai_systems_of_l4d_mike_booth.pdf">Left 4 Dead path smoothing</a> hit my pet peeve. It makes me sad that people still use "let's trace the polygon edge midpoints" as the reference algorithm for path smoothing. Really sad.<br><br>Funnel algorithm is simple algorithm to find straight path along portals. Of the most detailed descriptions can be found in <a href="http://games.cs.ualberta.ca/~mburo/ps/thesis_demyen_2006.pdf">Efficient Triangulation-Based Pathfinding</a>.<br><br>Here's implementation of simple stupid funnel algorithm. Instead of using queue and all that fancy stuff, simple stupid funnel algorithm runs a loop and restarts the loop from earlier location when new corner is added. This means that some portals are calculated a bit more often than potentially necessary, but it makes the implementation a whole lot simpler.<br><br><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_-u6ZJlBFOL0/S5ThwxU6ijI/AAAAAAAAAMQ/h6rDezeVRQM/s1600-h/funnel_explanation.png"><img style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; width: 364px; height: 400px;" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/funnel_explanation.png" alt="" id="BLOGGER_PHOTO_ID_5446226077388802610" border="0"></a><br><br>The above image shows six steps of the algorithm. Every time we process a new portal edge (the dashed lines highlighted in  yellow), we first:<ul><li>Check if the left and right points are inside the current funnel (described by the blue and red lines), if they are, we simple narrow the funnel (A-D).</li><li>If the new left endpoint is outside the funnel, the funnel is not update (E-F)<br></li><li>If the new left end point is over right funnel edge (F), we add the right funnel as a corner in the path and place the apex of the funnel at the right funnel point location and restart the algorithm from there (G).</li></ul>The same logic goes for left edge too. This is repeated until all the portal edges are processed.<br><br>As seen in the above example, the algorithm recalculates some edge several times because of the restart, but since the calculations are so simple, this simple stupid trick makes the implementation much simpler and in practice is faster too.<br><br><pre class="source-code"><code>inline float triarea2(const float* a, const float* b, const float* c)<br>{<br> const float ax = b[0] - a[0];<br> const float ay = b[1] - a[1];<br> const float bx = c[0] - a[0];<br> const float by = c[1] - a[1];<br> return bx*ay - ax*by;<br>}<br><br>inline bool vequal(const float* a, const float* b)<br>{<br> static const float eq = 0.001f*0.001f;<br> return vdistsqr(a, b) &lt; eq;<br>}<br><br>int stringPull(const float* portals, int nportals,<br>         float* pts, const int maxPts)<br>{<br><span style="color: rgb(0, 153, 0);">     // Find straight path.</span><br> int npts = 0;<br><span style="color: rgb(0, 153, 0);">     // Init scan state</span><br> float portalApex[2], portalLeft[2], portalRight[2];<br> int apexIndex = 0, leftIndex = 0, rightIndex = 0;<br> vcpy(portalApex, &amp;portals[0]);<br> vcpy(portalLeft, &amp;portals[0]);<br> vcpy(portalRight, &amp;portals[2]);<br><br><span style="color: rgb(0, 153, 0);">     // Add start point.</span><br> vcpy(&amp;pts[npts*2], portalApex);<br> npts++;<br><br> for (int i = 1; i &lt; nportals &amp;&amp; npts &lt; maxPts; ++i)<br> {<br>     const float* left = &amp;portals[i*4+0];<br>     const float* right = &amp;portals[i*4+2];<br><br><span style="color: rgb(0, 153, 0);">         // Update right vertex.</span><br>        if (triarea2(portalApex, portalRight, right) &lt;= 0.0f)<br>  {<br>         if (vequal(portalApex, portalRight) || triarea2(portalApex, portalLeft, right) &gt; 0.0f)<br>         {<br><span style="color: rgb(0, 153, 0);">              // Tighten the funnel.</span><br>             vcpy(portalRight, right);<br>             rightIndex = i;<br>         }<br>         else<br>         {<br><span style="color: rgb(0, 153, 0);">                 // Right over left, insert left to path and restart scan from portal left point.</span><br>             vcpy(&amp;pts[npts*2], portalLeft);<br>             npts++;<br><span style="color: rgb(0, 153, 0);">                 // Make current left the new apex.</span><br>             vcpy(portalApex, portalLeft);<br>             apexIndex = leftIndex;<br><span style="color: rgb(0, 153, 0);">                 // Reset portal</span><br>             vcpy(portalLeft, portalApex);<br>             vcpy(portalRight, portalApex);<br>             leftIndex = apexIndex;<br>             rightIndex = apexIndex;<br><span style="color: rgb(0, 153, 0);">                 // Restart scan</span><br>             i = apexIndex;<br>             continue;<br>         }<br>     }<br><br><span style="color: rgb(0, 153, 0);">         // Update left vertex.</span><br>        if (triarea2(portalApex, portalLeft, left) &gt;= 0.0f)<br>  {<br>         if (vequal(portalApex, portalLeft) || triarea2(portalApex, portalRight, left) &lt; 0.0f)<br>         {<br><span style="color: rgb(0, 153, 0);">                 // Tighten the funnel.</span><br>             vcpy(portalLeft, left);<br>             leftIndex = i;<br>         }<br>         else<br>         {<br><span style="color: rgb(0, 153, 0);">              // Left over right, insert right to path and restart scan from portal right point.</span><br>             vcpy(&amp;pts[npts*2], portalRight);<br>             npts++;<br><span style="color: rgb(0, 153, 0);">                 // Make current right the new apex.</span><br>             vcpy(portalApex, portalRight);<br>             apexIndex = rightIndex;<br><span style="color: rgb(0, 153, 0);">                 // Reset portal</span><br>             vcpy(portalLeft, portalApex);<br>             vcpy(portalRight, portalApex);<br>             leftIndex = apexIndex;<br>             rightIndex = apexIndex;<br><span style="color: rgb(0, 153, 0);">                 // Restart scan</span><br>             i = apexIndex;<br>             continue;<br>         }<br>     }<br> }<br><span style="color: rgb(0, 153, 0);">     // Append last point to path.</span><br> if (npts &lt; maxPts)<br> {<br>     vcpy(&amp;pts[npts*2], &amp;portals[(nportals-1)*4+0]);<br>     npts++;<br> }<br><br> return npts;<br>}<br></code></pre><br>The array <span style="font-style: italic;">portals</span> has all the portal segments of the path to simplify, first left edge point and the right edge point. The first portal's left and right location are set to start location, and the last portals left and right location is set to end location of the path. Something like this:<br><br><pre class="source-code"><code><span style="color: rgb(0, 153, 0);">// Start portal</span><br>vcpy(&amp;portals[nportals*4+0], startPos);<br>vcpy(&amp;portals[nportals*4+2], </code><code>startPos</code><code>);<br>nportals++;<br><span style="color: rgb(0, 153, 0);">// Portal between navmesh polygons</span><br>for (int i = 0; i &lt; path-&gt;npolys-1; ++i)<br>{<br> getPortalPoints(mesh, path-&gt;poly[i], path-&gt;poly[i+1], &amp;portals[nportals*4+0], &amp;portals[nportals*4+2]);<br> nportals++;<br>}<br><span style="color: rgb(0, 153, 0);">// End portal</span><br>vcpy(&amp;portals[nportals*4+0], endPos);<br>vcpy(&amp;portals[nportals*4+2], </code><code>endPos</code><code>);<br>nportals++;<br></code></pre><br>The cool thing is that this algorithm can be used with pretty much any navigation format. Let it be a grid, quad-tree, connected squares, way-points or navigation mesh. As long as you pass it a list of line segments that describe the portal from one node to another.<br><br>This algorithm is also awesome when combined with steering. You can calculate the desired movement velocity by calculating the next few turns and the steer towards the next corner. It is so fast that you can calculate this every iteration just before you use your favorite steering code.<br><br>So there you have it. The next person who goes public and suggest to use edge midpoints and raycasting to find more straight path after A* will get his inbox flooded with <a href="http://cuteoverload.com/">Cute Overload</a> weekly selection to instigate his pet hate too.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Posted by
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="https://www.blogger.com/profile/11900996590678707801" itemprop="url">
<a class="g-profile" href="https://www.blogger.com/profile/11900996590678707801" rel="author" title="author profile" data-gapiscan="true" data-onload="true" data-gapiattached="true">
<span itemprop="name">Mikko Mononen</span>
</a>
</span>
</span>
<span class="post-timestamp">
at
<meta content="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html" itemprop="url">
<a class="timestamp-link" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/Digesting Duck_ Simple Stupid Funnel Algorithm.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2010-03-08T02:45:00-08:00">2:45 AM</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-557373609">
<a href="https://www.blogger.com/post-edit.g?blogID=1272803659321539598&postID=561673051536523114&from=pencil" title="Edit Post">
<img alt="" class="icon-action" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_edit_allbkg.gif" width="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>57 comments:</h4>
<div class="comments-content">
<script async="async" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/comments.js" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = [{'id': '7660492840116693058', 'body': 'I can think of one case where funneling does not quite work, which ultimately made me write the very technique of raycasting midpoints for use within Recast/Detour on my modified version, and it\46#39;s a nice coincidence you\46#39;re writing about this as I hit this very problem late last week.\74br /\76\74br /\76There can be a nasty horizon effect happening if the polygons found by A* do not themselves form a straight/smooth path to the goal. This seems to get even worse when you arbitrarily tesselate the navmesh to create areas (I wrote my own implementation a few months ago not knowing about your solution, I have not looked yet by how much they differ), where the polygons you select might have as boundary some of these other extraneous polygons that are part of the straight path, but have not been retained by A* because their midpoints were too far (most often because of a big polygon). So you end up with a path that has these strange sharp turns in the middle of a relatively open field. Raycasting has at least the advantage of finding a straighter path regardless of the A* result, not quite perfect because sometimes the next midpoint temporarily deviates behind an obstacle while the next one is visible, but this approach still solved most of the problems I had before.\74br /\76\74br /\76I did think of reusing the polygons found by raycasting to the funnel algorithm, but another side effect of smoothing midpoints that I found interesting is that it often makes the path prefer to stay a little further away from obstacles (provided the triangles are not too large, but this case could be handled by sampling), rather than tightly hugging them for a sharp turn, which looks a bit more natural and leave some breathing room. Of course this is a problem possibly handled better in the path follow logic, but given the time constraints, for now it works well enough. Maybe however using the modified funnel algorithm from this paper could be interesting, though the radius would not be a strict exclusion, more like a preferred stay-away-from-obstacles distance, but I have not looked yet if this desired behavior is compatible with this algorithm or your simplified implementation.\74br /\76\74br /\76Of course I might have overlooked something, but this was the best solution I could think of within a quite short time frame. I\46#39;m curious to see if you\46#39;ve encountered this problem before and what are your thoughts about it.', 'timestamp': '1268059620609', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268059620609#c7660492840116693058', 'author': {'name': 'JGG', 'avatarUrl': 'https://img1.blogblog.com/img/openid16-rounded.gif', 'profileUrl': 'http://profile.typepad.com/6p0120a9146f4f970b'}, 'displayTime': 'March 8, 2010 at 6:47 AM', 'deleteclass': 'item-control blog-admin pid-170575140'}, {'id': '7200628265900358133', 'body': 'That is not problem with funnel algorithm, but A*. Ideally you should not fix the path smoothing (because it works), but actually add extra step after A* which tries to adjust the list of path polygons so that it will create shorter path.\74br /\76\74br /\76You should spend absolutely minimum amount of time trying to create smooth path, because it will change when someone else moves in the game world.\74br /\76\74br /\76Stuff like boundary hugging are better handled using steering algorithms or such, you just get better results that way.\74br /\76\74br /\76Just to reiterate:\74br /\76\74br /\0761) A* transforms graph into a linear set of polygons which will leave you to target.\74br /\0762) String pulling will tell you where to towards in order to move towards target\74br /\0763) Locomotion/steering will be in charge of the final smooth path. \74br /\76\74br /\76That way you will do as little work as necessary. Every smarter-than-potatoe string pulling out there which tries to solve the whole path following dilemma at that stage, just does too much work, and usually creates not very good results, which can described as \46quot;more natural and human like\46quot; ;)', 'timestamp': '1268061220110', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268061220110#c7200628265900358133', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'March 8, 2010 at 7:13 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '3396803269593852057', 'body': 'Great post! Could you talk a bit more about how you account for the agent radius size? The way I handled this was to iterate over the final list of smoothed points, and move them further away from the edges of the nav mesh. The question is, in what direction do you move the points, to get them away from the edge of the nav mesh? Here is a bit of psuedocode to describe the direction I use for the offset:\74br /\76\74br /\76a \75 points[i+1] - points[i]\74br /\76b \75 points[i+2] - points[i]\74br /\76c \75 Normalize(a*05 + b*0.5)\74br /\76if (ClockwiseTo(b,a))\74br /\76{\74br /\76    offsetDir \75 Cross(c,up)\74br /\76}\74br /\76else\74br /\76{\74br /\76    offsetDir \75 Cross(up,c)\74br /\76}\74br /\76points[i+1] +\75 offsetDir*agentRadius\74br /\76\74br /\76However, I can see some edge cases where this would not give the best position to move toward. How did you handle this problem through steering?', 'timestamp': '1268079281067', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268079281067#c3396803269593852057', 'author': {'name': 'Alex', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/14394507867716855912'}, 'displayTime': 'March 8, 2010 at 12:14 PM', 'deleteclass': 'item-control blog-admin pid-601864027'}, {'id': '791533325547419099', 'body': 'This implementation assumes that the portals are already adjusted so that they contain the agent radius. For example, a navmesh would be shrinked by agent radius.\74br /\76\74br /\76This assumption reduces the complexity of all the thing you need to do with navmeshes or any navigation representation a huge amount.\74br /\76\74br /\76The only corner case for steering is when you are really close to a corner. AFAIK there is no good solid way to handle that. I usually build the system so that I allow the agent to move quite close to the corner (say, 0.1cm) and then choose the next corner instead. The movement code then deals with this extra slop. You can check the Recast Demo for an example how to do this.', 'timestamp': '1268082161126', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268082161126#c791533325547419099', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'March 8, 2010 at 1:02 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1031271252360338751', 'body': 'by \46#39;let\46#39;s trace the polygon edge midpoints\46#39; do you mean \46quot;Reactive Path Following\46quot; in the l4d powerpoint?', 'timestamp': '1268648213495', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268648213495#c1031271252360338751', 'author': {'name': 'Jad', 'avatarUrl': 'http://2.bp.blogspot.com/_bsDfCvnypcA/SasFa6PBaeI/AAAAAAAAA5M/uffrOlLoYRE/S45-s35/photo_thumb.png', 'profileUrl': 'https://www.blogger.com/profile/01984049132695001201'}, 'displayTime': 'March 15, 2010 at 3:16 AM', 'deleteclass': 'item-control blog-admin pid-1813031298'}, {'id': '3492271734245423987', 'body': 'Yes. That \46#39;let\46#39;s trace the polygon edge midpoints\46#39; seems to be a common plague.\74br /\76\74br /\76I have used string pulling as coder interview questions for quite some time (thanks Danny!) and 60% of the results have been \46#39;let\46#39;s trace the polygon edge midpoints\46#39; plus some wonky magic.\74br /\76\74br /\76Only one person (who actually had no AI background) so far has submitted a version of funnel algorithm.', 'timestamp': '1268648983738', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268648983738#c3492271734245423987', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'March 15, 2010 at 3:29 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '2418796246478808865', 'body': 'My point was also, that developers should know better, and not compare their new method to \46#39;let\46#39;s trace the polygon edge midpoints\46#39;.\74br /\76\74br /\76It is like someone would compare Killzone2 graphics to a flat shaded triangle.', 'timestamp': '1268650156053', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268650156053#c2418796246478808865', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'March 15, 2010 at 3:49 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '4997334708777801525', 'body': 'how do u do?\74a href\75\42http://www.show-show.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-sexy.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-sex.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-meme.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-meimei.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-av.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-520.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-387.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-333.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-258.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-222.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.show-176.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-tube.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-top.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-talk.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-show.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-sexy.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-sex.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-meme.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-chat.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-channel.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-cam.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-5320.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-530.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-520.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-080.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.room-0401.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.meme-jp.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.meme-999.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-ut.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-tw.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-tube.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-talk.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-sexy.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-sex.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-live.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-kiss.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-jp.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-hi.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-go.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-ez.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-baby.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-asia.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-adult.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-999.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-919.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-888.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-777.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-616.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-555.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-5366.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-5320.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-530.info\42 rel\75\42nofollow\42\76 \74/a\76\74a href\75\42http://www.av-520.info\42 rel\75\42nofollow\42\76 \74/a\076', 'timestamp': '1268966314457', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751268966314457#c4997334708777801525', 'author': {'name': '七碰碰', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/00003663574749425028'}, 'displayTime': 'March 18, 2010 at 7:38 PM', 'deleteclass': 'item-control blog-admin pid-209406760'}, {'id': '1041344199705829921', 'body': 'Mikko, in one of your comments you say, \46quot;Ideally you should not fix the path smoothing (because it works), but actually add extra step after A* which tries to adjust the list of path polygons so that it will create shorter path\46quot;. I\46#39;m curious as to how that would work? The only method that comes to my mind is effectively string pulling to collapse redundant path nodes.', 'timestamp': '1270180319092', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270180319092#c1041344199705829921', 'author': {'name': 'Cam', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/00491167853237745252'}, 'displayTime': 'April 1, 2010 at 8:51 PM', 'deleteclass': 'item-control blog-admin pid-1007978823'}, {'id': '332017273647356853', 'body': 'Cam, I have not put too much thought into that. The first thing to check would be to see if the extra detour always happens with same pattern. For example, the problems with A* and polygons pretty much always happens when you have large and small next to each other.\74br /\76\74br /\76You could use the straight path found by the funnel algorithm as \46quot;heuristic\46quot; to see how well some alternative corridor performs. The TRA* paper has some discussion regarding this.\74br /\76\74br /\76My point was that you should keep the string pulling as fast as possible since you will be updating it constantly when you follow the path.\74br /\76\74br /\76If the path corridor is not good enough, then you should fix the problem at its root, not higher up where it takes more processing to get the thing done.', 'timestamp': '1270193441864', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270193441864#c332017273647356853', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'April 2, 2010 at 12:30 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '8684254171318102125', 'body': 'Yeah you are probably right about the path corridor being wrong. It is generally happening in an open area with lots of tiles. What I\46#39;m seeing is basically similar to the bottom image in this image http://3.bp.blogspot.com/_-u6ZJlBFOL0/Sl8NQfhU_pI/AAAAAAAAADI/DS3h8mklIjc/s1600-h/heuristics_take2.jpg\74br /\76\74br /\76Maybe not the end of the would but if the agent is quite small relative to the tile it\46#39;s kind of obvious that they\46#39;re taking a slightly askew route. So it\46#39;s this sort of scenario I\46#39;m interested in solving. On a related note, the post you wrote on Recast\46#39;s generation settings was quite helpful, but it didn\46#39;t mention tile sizes. Have you written anything about choosing a good tile size? Mostly I\46#39;ve been using tiles to limit how long edges can get, not for dynamic meshes. But maybe this is the wrong approach.', 'timestamp': '1270265042364', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270265042364#c8684254171318102125', 'author': {'name': 'Cam', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/00491167853237745252'}, 'displayTime': 'April 2, 2010 at 8:24 PM', 'deleteclass': 'item-control blog-admin pid-1007978823'}, {'id': '3605251546209643732', 'body': 'The tile size depends on why you use tiles in the first place. I shall write a post about it.\74br /\76\74br /\76That bottom image is actually pretty good, consider yourself lucky ;)\74br /\76\74br /\76The failure pattern in your case that string pulled path* contains \46quot;inner mesh\46quot; vertex. If you encounter that, you could use raycast() to check if there is straight line to the straight path vertex just after the inner vertex.\74br /\76\74br /\76If there is, then you replace the beginning of your path corridor by the results returned by raycast(). Basically you find the furthest common polygon and batch the path corridor up to that polygon.\74br /\76\74br /\76You should also have a cache of false alarms, so that you don\46#39;t try to short cut if the test failed last time.\74br /\76\74br /\76There might be other ways to handle that, like trying to find another path around the bad vertex, but I\46#39;m quite positive that you can use that inner vertex check to see when you should try to adjust the path. I\46#39;m sure there will be other cases too.\74br /\76\74br /\76\74br /\76*) I usually query just next 2-3 straight path vertices when following path, that idea should work with that kind of queries stuff too, you kinda fix the path as you go.', 'timestamp': '1270311357002', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270311357002#c3605251546209643732', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'April 3, 2010 at 9:15 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '3891136048920709782', 'body': 'One more thing: note that the raycast() is used to fix the corridor, _not_ to fix the straight path.', 'timestamp': '1270312942047', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270312942047#c3891136048920709782', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'April 3, 2010 at 9:42 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1528371909481290346', 'body': 'Ah cool. That\46#39;s what I\46#39;ve done in the past. I was under the impression that was what you were objecting to, but I think I got the wrong end of the stick :)\74br /\76\74br /\76Thanks for your help.', 'timestamp': '1270327378473', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270327378473#c1528371909481290346', 'author': {'name': 'Cam', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/00491167853237745252'}, 'displayTime': 'April 3, 2010 at 1:42 PM', 'deleteclass': 'item-control blog-admin pid-1007978823'}, {'id': '5826921012497216885', 'body': 'Just make sure you fix the corridor using the raycast, and not use that to fix string pulling every time you need new straight path. Then I don\46#39;t object :)', 'timestamp': '1270328414709', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751270328414709#c5826921012497216885', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'April 3, 2010 at 2:00 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1169766899525048761', 'body': '\74span class\75\47deleted-comment\47\76This comment has been removed by the author.\74/span\076', 'timestamp': '1277475430500', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751277475430500#c1169766899525048761', 'author': {'name': 'arndt', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07417777746120458820'}, 'displayTime': 'June 25, 2010 at 7:17 AM', 'deleteclass': 'item-control blog-admin '}, {'id': '7039925394242110091', 'body': '\74span class\75\47deleted-comment\47\76This comment has been removed by the author.\74/span\076', 'timestamp': '1277475558334', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751277475558334#c7039925394242110091', 'author': {'name': 'Mene', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07417777746120458820'}, 'displayTime': 'June 25, 2010 at 7:19 AM', 'deleteclass': 'item-control blog-admin '}, {'id': '4044662039262867874', 'body': 'Don\46#39;t you need to check if the destination point lies above or below the current funnel? If so you need to add the left / right point as additional waypoint. Or am I missing something?\74br /\76Consider this case: http://bit.ly/aY0YHV\74br /\76(purple is current apex, orange arrow is left, blue arrow is right, yellow arrows are portals, target is the circle, beginning of the channel is top left)\74br /\76\74br /\76kiitos for this blog ;D', 'timestamp': '1277475953151', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751277475953151#c4044662039262867874', 'author': {'name': 'Mene', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07417777746120458820'}, 'displayTime': 'June 25, 2010 at 7:25 AM', 'deleteclass': 'item-control blog-admin pid-527331262'}, {'id': '120673829675380472', 'body': 'In your example, the point will be added, when you process the last portal, that is, the destination point. If you take a look at the usage code above, I set the last portal to be null length segment, where both end-points are the goal point.', 'timestamp': '1277481552540', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751277481552540#c120673829675380472', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'June 25, 2010 at 8:59 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '7457216185355966210', 'body': 'Ah, so I indeed did miss something.', 'timestamp': '1277489173005', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751277489173005#c7457216185355966210', 'author': {'name': 'Mene', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/07417777746120458820'}, 'displayTime': 'June 25, 2010 at 11:06 AM', 'deleteclass': 'item-control blog-admin pid-527331262'}, {'id': '9070622941573197182', 'body': 'Hi,\74br /\76\74br /\76Can you please tell me what does vcpy do?\74br /\76Does it copy vectors?\74br /\76\74br /\76Thanks in advance', 'timestamp': '1291677833401', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751291677833401#c9070622941573197182', 'author': {'name': 'M', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'December 6, 2010 at 3:23 PM', 'deleteclass': 'item-control blog-admin pid-1725720319'}, {'id': '7746502375942268365', 'body': 'For 3d vector:\74br /\76\74br /\76inline void vcpy(float* dst, const float* src)\74br /\76{\74br /\76  dst[0] \75 src[0];\74br /\76  dst[1] \75 src[1];\74br /\76  dst[2] \75 src[2];\74br /\76}\74br /\76\74br /\76for 2D vector\74br /\76\74br /\76inline void vcpy(float* dst, const float* src)\74br /\76{\74br /\76  dst[0] \75 src[0];\74br /\76  dst[1] \75 src[1];\74br /\76}', 'timestamp': '1291708844124', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751291708844124#c7746502375942268365', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'December 7, 2010 at 12:00 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '5096502056696856644', 'body': 'I would really like to understand what triarea2 does, but my geometry/trig/linear algebra skills are very rusty.  Can you describe this formula enough so that I can search around and figure out how this works?', 'timestamp': '1293735653521', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751293735653521#c5096502056696856644', 'author': {'name': 'Ben', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/01114758411634262538'}, 'displayTime': 'December 30, 2010 at 11:00 AM', 'deleteclass': 'item-control blog-admin pid-1365625256'}, {'id': '8551287459524813485', 'body': 'It calculates twice the triangle area using 2D cross product. See the following article for more details: http://softsurfer.com/Archive/algorithm_0101/algorithm_0101.htm', 'timestamp': '1293736931601', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751293736931601#c8551287459524813485', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'December 30, 2010 at 11:22 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1632629156023136992', 'body': 'Javascript implementation of \46quot;Digesting Duck :: Simple Stupid Funnel Algorithm\46quot;:\74br /\76\74br /\76http://pastebin.com/7jwrmw1i', 'timestamp': '1297942034245', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751297942034245#c1632629156023136992', 'author': {'name': 'soywiz', 'avatarUrl': 'http://2.bp.blogspot.com/_nBD6sX60HFA/SvtkcyWJD9I/AAAAAAAACLM/N_R8S9e9V4I/S45-s35/rita_sleeping_150.png', 'profileUrl': 'https://www.blogger.com/profile/12709774256913581269'}, 'displayTime': 'February 17, 2011 at 3:27 AM', 'deleteclass': 'item-control blog-admin pid-511154213'}, {'id': '8836892736030358410', 'body': 'Hi Mikko, \74br /\76\74br /\76Portals do not have to be between triangles, portals between convex polygons with any number of vertices will also work right ?', 'timestamp': '1303253332279', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751303253332279#c8836892736030358410', 'author': {'name': 'utkutest', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05161613357758680513'}, 'displayTime': 'April 19, 2011 at 3:48 PM', 'deleteclass': 'item-control blog-admin pid-52647484'}, {'id': '1880453749089854448', 'body': 'Hi utkutest, portals can be between any convex shape. The only restriction is that the portals should not intersect, by they can share a common vertex, though. This means that the string pulling can be also used for grid based pathfinders. Squares are as convex polygons as others :)', 'timestamp': '1303279851669', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751303279851669#c1880453749089854448', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'April 19, 2011 at 11:10 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '629608733347971210', 'body': 'Thanks Mikko, I\46#39;ve read the paper, your implementation is way cooler to be honest, I did not like that pseudo code at all, it was even very hard to follow for me.', 'timestamp': '1303400739494', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751303400739494#c629608733347971210', 'author': {'name': 'utkutest', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/05161613357758680513'}, 'displayTime': 'April 21, 2011 at 8:45 AM', 'deleteclass': 'item-control blog-admin pid-52647484'}, {'id': '4947450328288614127', 'body': 'Hi,\74br /\76\74br /\76Thanks for this post, I was trying to solve this problem and you\46#39;re approach is working well.\74br /\76\74br /\76I\46#39;m curious about the agent radius problem, you say in an earlier post that: \74br /\76\74br /\76\46quot;This implementation assumes that the portals are already adjusted so that they contain the agent radius. For example, a navmesh would be shrinked by agent radius.\46quot;\74br /\76\74br /\76But what does it mean in practice to shrink to mesh?\74br /\76\74br /\76I notice that thesis you linked to has it\46#39;s own suggestions for dealing with agent size without modifying the mesh itself, do you recommend this approach?\74br /\76\74br /\76Thanks for any help.', 'timestamp': '1318264182509', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318264182509#c4947450328288614127', 'author': {'name': 'Stephen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02444019565808877389'}, 'displayTime': 'October 10, 2011 at 9:29 AM', 'deleteclass': 'item-control blog-admin pid-218027438'}, {'id': '987759345437993891', 'body': 'I was wondering the same thing as Stephen.\74br /\76And if you preshrink a mesh does this mean that all agents have to have the same radius?', 'timestamp': '1318372482798', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318372482798#c987759345437993891', 'author': {'name': 'c', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/16587168742111723848'}, 'displayTime': 'October 11, 2011 at 3:34 PM', 'deleteclass': 'item-control blog-admin pid-290784269'}, {'id': '2857297620377014804', 'body': 'c, yes. The whole problem is about 100x more complicated if you don\46#39;t shrink the mesh. There are links to such papers elsewhere on this blog.', 'timestamp': '1318397422434', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318397422434#c2857297620377014804', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'October 11, 2011 at 10:30 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1947363780931248373', 'body': 'The disadvantage is that shrinking the mesh isn\46#39;t so easy if you have to build the mesh by hand, especially if you have to build multiple meshes for different agent sizes.', 'timestamp': '1318406608746', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318406608746#c1947363780931248373', 'author': {'name': 'c', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/16587168742111723848'}, 'displayTime': 'October 12, 2011 at 1:03 AM', 'deleteclass': 'item-control blog-admin pid-290784269'}, {'id': '5694461373459611831', 'body': 'c, that\46#39;s true. I recommend automatic navmesh building :)', 'timestamp': '1318422089210', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318422089210#c5694461373459611831', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'October 12, 2011 at 5:21 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '7613820600217177205', 'body': 'Even though I\46#39;m working in 2D and not 3D, I think automatic navmesh generation is a little beyond my abilities, especially since I cannot find anything on the subject on the internet.', 'timestamp': '1318443075798', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318443075798#c7613820600217177205', 'author': {'name': 'c', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/16587168742111723848'}, 'displayTime': 'October 12, 2011 at 11:11 AM', 'deleteclass': 'item-control blog-admin pid-290784269'}, {'id': '8605949388364169995', 'body': 'c, this is your lucky day! Look around this blog, it\46#39;s all about automatic navmesh generation.', 'timestamp': '1318443333625', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318443333625#c8605949388364169995', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'October 12, 2011 at 11:15 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '1982959955567151565', 'body': 'Maybe, but I\46#39;m having a hard time finding anything and most of the stuff you write on this site is over my head.', 'timestamp': '1318447297301', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751318447297301#c1982959955567151565', 'author': {'name': 'c', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/16587168742111723848'}, 'displayTime': 'October 12, 2011 at 12:21 PM', 'deleteclass': 'item-control blog-admin pid-290784269'}, {'id': '2771776088069544702', 'body': 'When checking the left portion do we have to compare angles counterclockwise?\74br /\76And when it\46#39;s the right portion is it clockwise?', 'timestamp': '1322427269588', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751322427269588#c2771776088069544702', 'author': {'name': 'Unknown', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'November 27, 2011 at 12:54 PM', 'deleteclass': 'item-control blog-admin pid-1725720319'}, {'id': '9086515664754628586', 'body': '@Unknown, you don\46#39;t need to compare angles. You just need to check if a point is on a certain side of a segment. This can be done by calculating the winding of a triangle which is formet by the two points of the segment and the third point you want to check. The sign of the triangle area will tell you on which way the triangle is would, that is, on which side of the segment the third point is.', 'timestamp': '1322465308852', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751322465308852#c9086515664754628586', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'November 27, 2011 at 11:28 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '46755763428154940', 'body': 'Thanks a lot. What happen if triarea \75 0 ?? The point tested goes through both if conditions?', 'timestamp': '1323399958180', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751323399958180#c46755763428154940', 'author': {'name': 'Unknown', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'December 8, 2011 at 7:05 PM', 'deleteclass': 'item-control blog-admin pid-1725720319'}, {'id': '4959459155564916919', 'body': '\74span class\75\47deleted-comment\47\76This comment has been removed by the author.\74/span\076', 'timestamp': '1325514931174', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751325514931174#c4959459155564916919', 'author': {'name': 'Unknown', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'January 2, 2012 at 6:35 AM', 'deleteclass': 'item-control blog-admin '}, {'id': '7602137752191637585', 'body': '\74span class\75\47deleted-comment\47\76This comment has been removed by the author.\74/span\076', 'timestamp': '1325514948612', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751325514948612#c7602137752191637585', 'author': {'name': 'Unknown', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'January 2, 2012 at 6:35 AM', 'deleteclass': 'item-control blog-admin '}, {'id': '8803524447874495854', 'body': 'Does anyone know the problem in this case?\74br /\76http://www.gamedev.net/topic/617458-doug-demyens-funnel-algorithm/', 'timestamp': '1325515016711', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751325515016711#c8803524447874495854', 'author': {'name': 'Unknown', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/02156280264897864977'}, 'displayTime': 'January 2, 2012 at 6:36 AM', 'deleteclass': 'item-control blog-admin pid-1725720319'}, {'id': '6446462525948692190', 'body': 'hi Mikko,\74br /\76\74br /\76some game developers pointed out that n-sided convex polygon mesh is not ideal for pathfinding. They thought tri-mesh is better. but i thought the search can be faster in a poly-based mesh as less nodes are examined when you treat them as A* nodes. what do you think? do you think the poly-based mesh is still worth studying?\74br /\76\74br /\76I just implemented your methods on a polygon-based mesh. Compared with triangle-based mesh, I found the running time even slower. So I am confused now.\74br /\76\74br /\76cheers,\74br /\76Shawn', 'timestamp': '1337795806437', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751337795806437#c6446462525948692190', 'author': {'name': 'shawn', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11207078423806439345'}, 'displayTime': 'May 23, 2012 at 10:56 AM', 'deleteclass': 'item-control blog-admin pid-817984913'}, {'id': '7013411727707057584', 'body': 'Polygons are indeed usually favored since they result less A* nodes. That is the reason Detour uses them too. The memory usage is usually similar.\74br /\76\74br /\76What are those dev\46#39;s reasons for tri meshes being better?\74br /\76\74br /\76What parts of code are slower when you use polygon based methods?', 'timestamp': '1337796215402', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751337796215402#c7013411727707057584', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'May 23, 2012 at 11:03 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '6373275467888693566', 'parentId': '7013411727707057584', 'body': 'Thanks a lot, Mikko. Your comment is quite helpful. \74br /\76\74br /\76I thought the problem could be how to find the left and right points. In a triangle-based mesh, if we know a point is on one side, the other point is clearly on the opposite side. Cycling through the triangles is much faster than the polygons as we have to decide the left and right points by cycling through all the end-points in the polygon. \74br /\76\74br /\76For example, to determine whether a point on a portal, we have to cycle through the polygon from that point in two directions until finding a previous left or right point or another endpoint of that portal.\74br /\76\74br /\76I thought this process takes more time than it in triangles. Do you have any suggestion to improve it? \74br /\76\74br /\76And do you have any idea why many game engines still choose a tri-mesh based pathfinding? Does it imply that in the context of geometry, generating a triangle-based mesh (splitting a map into a set of triangles) is much easier or faster than generating a polygon-based mesh?\74br /\76\74br /\76Many thanks again.\74br /\76\74br /\76Cheers,\74br /\76Shawn', 'timestamp': '1338384876271', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751338384876271#c6373275467888693566', 'author': {'name': 'Xiao', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/01706441295327752242'}, 'displayTime': 'May 30, 2012 at 6:34 AM', 'deleteclass': 'item-control blog-admin pid-66004936'}, {'id': '6178744802933750334', 'parentId': '7013411727707057584', 'body': 'Finding portal between two polygons should not be a speed issue. Each edge stores an index/reference to neighbour polygon, so it is just few integer compares.\74br /\76\74br /\76One advantage triangles have is that they are really easy to store, as each triangle takes the same amount of memory. Detour stores polygons in similar manner too to keep random access fast (i.e. all polygons have 6 vertices), but in the process you loose some memory. The amount of memory is usually insignificant.', 'timestamp': '1338385142167', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751338385142167#c6178744802933750334', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'May 30, 2012 at 6:39 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '8528632527898449680', 'parentId': '7013411727707057584', 'body': 'Yes, you are right. Finding a portal edge between two adjacent polygons is not a big issue. But we have to determine which point is left and right before we can process the portal.\74br /\76\74br /\76I thought my program spent too much time on determining the left and right points (because each time I have to cycle through the whole polygon so as to determine which is left or right point based on previous left and right points). Do you have better idea?\74br /\76\74br /\76Many thanks,\74br /\76Shawn', 'timestamp': '1338441735074', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751338441735074#c8528632527898449680', 'author': {'name': 'Xiao', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/01706441295327752242'}, 'displayTime': 'May 30, 2012 at 10:22 PM', 'deleteclass': 'item-control blog-admin pid-66004936'}, {'id': '8120060623660717695', 'parentId': '7013411727707057584', 'body': 'You\46#39;re thinking too complicated. If an edge in a CCW triangle/polygon is defined as two consecutive vertices, then the first of those vertices is right and second vertex left. No need to calculate anything at all! :)', 'timestamp': '1338442224034', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751338442224034#c8120060623660717695', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'May 30, 2012 at 10:30 PM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '8387332615138290402', 'parentId': '7013411727707057584', 'body': 'Thanks a lot, Mikko. \74br /\76\74br /\76As you have suggested, I stored polygons in CCW and did some pre-processing including:\74br /\76\74br /\76- calculating adjacent polygons for each polygon\74br /\76- finding the mutual edge between each two polygons\74br /\76\74br /\76Now the program is much faster than triangle-based one. Thank you.\74br /\76\74br /\76Cheers,\74br /\76Shawn', 'timestamp': '1340216657721', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751340216657721#c8387332615138290402', 'author': {'name': 'Xiao', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/01706441295327752242'}, 'displayTime': 'June 20, 2012 at 11:24 AM', 'deleteclass': 'item-control blog-admin pid-66004936'}, {'id': '4618147066447247595', 'body': 'I did a test using pretty much a copy of your code. For me, the end point gets added twice to the result path in some cases.\74br /\76\74br /\76More specifically this happens if the left or right vertex of the last actual portal is not part of the result path.\74br /\76\74br /\76Not 100% sure if it\46#39;s bug in the code or maybe something to do with the input data, but with a quick investigation my input data looked to be sane.', 'timestamp': '1340893770934', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751340893770934#c4618147066447247595', 'author': {'name': 'Ollik', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/16741605519851315032'}, 'displayTime': 'June 28, 2012 at 7:29 AM', 'deleteclass': 'item-control blog-admin pid-601374326'}, {'id': '2347566821170102926', 'body': 'Hi Mikko, can you suggest an algorithm or reference for constructing the portals (or channels as some white papers call them)? I think I\46#39;m constructing them mostly correctly but missing a few edge cases. ', 'timestamp': '1350401904267', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751350401904267#c2347566821170102926', 'author': {'name': 'Cameron', 'avatarUrl': 'https://img1.blogblog.com/img/openid16-rounded.gif', 'profileUrl': 'https://me.yahoo.com/a/R4xwcfc1otzZRrFxighrn_JgUgY-'}, 'displayTime': 'October 16, 2012 at 8:38 AM', 'deleteclass': 'item-control blog-admin pid-1123006620'}, {'id': '2512932577020514327', 'body': '@Cameron, in my code and the pictures above, I call the yellow dashed edges portals. If you\46#39;re polygons are wound counter clockwise, then it should be as simple as using the two consecutive vertices if the current polygon as the portal.\74br /\76\74br /\76For example:\74br /\76if pidx\75current polygon, eidx\75corrent polygon edges index (that is the edge that leads o the next polygon), then the portal is:\74br /\76\74br /\76p \75 polygons[pidx];\74br /\76left \75 vertices[p.verts[eidx];\74br /\76right \75 vertices[p.verts[(eidx+1)%p.nverts];\74br /\76\74br /\76(I may have left and right mixed up in the code, or the code may actually assume clockwise polygon, I tend to mix these up sometimes).', 'timestamp': '1350403708838', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751350403708838#c2512932577020514327', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'October 16, 2012 at 9:08 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '8132801132551758951', 'parentId': '2512932577020514327', 'body': 'Thank you for the swift reply Mikko. That makes sense, I think I was over complicating it. Thanks again for the great write up!', 'timestamp': '1350409045712', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751350409045712#c8132801132551758951', 'author': {'name': 'Cameron', 'avatarUrl': 'https://img1.blogblog.com/img/openid16-rounded.gif', 'profileUrl': 'https://me.yahoo.com/a/R4xwcfc1otzZRrFxighrn_JgUgY-'}, 'displayTime': 'October 16, 2012 at 10:37 AM', 'deleteclass': 'item-control blog-admin pid-1123006620'}, {'id': '625044948298455156', 'body': 'So, I\46#39;ve been working on my own implementation of the funnel algorithm and I realized what sacrifice you\46#39;re making with this (as you called it) \46quot;simple stupid funnel algorithm\46quot;.  The \46quot;sleeve\46quot; you\46#39;ve shown in the illustration is clearly taken from the Lee and Preparata paper.  However, it works because the funnel\46#39;s extents get contracted by each successive portal/edge.  Your funnel doesn\46#39;t cut through the center of portals.  If it were to, you\46#39;d get an unhappy path.  It is for these cases that the whole double-ended queue is used.  Did you want to comment on that at all?', 'timestamp': '1354984138456', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751354984138456#c625044948298455156', 'author': {'name': 'Sean', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/03002139848836152175'}, 'displayTime': 'December 8, 2012 at 8:28 AM', 'deleteclass': 'item-control blog-admin pid-904765445'}, {'id': '5730387588806065047', 'body': 'Which one is the left and right edges? Blue or Orange?\74br /\76\74br /\76Its really confusing because in the given demo, you first say\74br /\76\74br /\76If the new left endpoint is outside the funnel, the funnel is not update (E-F)\74br /\76(indicating that orange is left)\74br /\76\74br /\76and then you say:\74br /\76\74br /\76If the new left end point is over right funnel edge (F), we add the right funnel as a corner in the path and place the apex of the funnel at the right funnel point location and restart the algorithm from there (G).\74br /\76(indicating blue is left)\74br /\76\74br /\76I\46#39;ve been trying to link the demo with the code for hours but it isn\46#39;t making sense...', 'timestamp': '1387846017709', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751387846017709#c5730387588806065047', 'author': {'name': 'lurkingdevil', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/04038191655911717129'}, 'displayTime': 'December 23, 2013 at 4:46 PM', 'deleteclass': 'item-control blog-admin pid-1249092122'}, {'id': '4175035610934125390', 'body': 'The algorithm is quite confusing to try to explain in words. I think in the point 3/3 I have mixed left and right, so it probably should read:\74br /\76\74br /\76If the new right end point is over left funnel edge (F), we add the left funnel as a corner in the path and place the apex of the funnel at the left funnel point location and restart the algorithm from there (G). ', 'timestamp': '1387992239469', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751387992239469#c4175035610934125390', 'author': {'name': 'Mikko Mononen', 'avatarUrl': 'https://img2.blogblog.com/img/b16-rounded.gif', 'profileUrl': 'https://www.blogger.com/profile/11900996590678707801'}, 'displayTime': 'December 25, 2013 at 9:23 AM', 'deleteclass': 'item-control blog-admin pid-557373609'}, {'id': '5626719049888105187', 'body': 'thanx for this detail\74br /\76\74a href\75\42http://www.plasticlabwareindia.com\42 rel\75\42nofollow\42\76Plastic Manufacturers\74/a\076', 'timestamp': '1409639124552', 'permalink': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment\0751409639124552#c5626719049888105187', 'author': {'name': 'alina brate', 'avatarUrl': '//lh6.googleusercontent.com/-l3Yp9OF_k24/AAAAAAAAAAI/AAAAAAAAABU/eDGnyaDKYrw/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/04118156962601070996'}, 'displayTime': 'September 1, 2014 at 11:25 PM', 'deleteclass': 'item-control blog-admin pid-431591918'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more!', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '1272803659321539598', 'postId': '561673051536523114', 'feed': 'http://digestingduck.blogspot.com/feeds/561673051536523114/comments/default', 'authorName': 'Mikko Mononen', 'authorUrl': 'https://www.blogger.com/profile/11900996590678707801', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
</script>
<div id="comment-holder">

<div id="bc_0_58C" kind="c"><div id="bc_0_58CT"><div id="bc_0_57T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_57TB"><li id="bc_0_0B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/openid36-rounded.png"></div><div id="c7660492840116693058" class="comment-block"><div id="bc_0_0M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="http://profile.typepad.com/6p0120a9146f4f970b">JGG</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268059620609#c7660492840116693058">March 8, 2010 at 6:47 AM</a></span></div><p id="bc_0_0MC" class="comment-content">I can think of one case where funneling does not quite work, which ultimately made me write the very technique of raycasting midpoints for use within Recast/Detour on my modified version, and it's a nice coincidence you're writing about this as I hit this very problem late last week.<br><br>There can be a nasty horizon effect happening if the polygons found by A* do not themselves form a straight/smooth path to the goal. This seems to get even worse when you arbitrarily tesselate the navmesh to create areas (I wrote my own implementation a few months ago not knowing about your solution, I have not looked yet by how much they differ), where the polygons you select might have as boundary some of these other extraneous polygons that are part of the straight path, but have not been retained by A* because their midpoints were too far (most often because of a big polygon). So you end up with a path that has these strange sharp turns in the middle of a relatively open field. Raycasting has at least the advantage of finding a straighter path regardless of the A* result, not quite perfect because sometimes the next midpoint temporarily deviates behind an obstacle while the next one is visible, but this approach still solved most of the problems I had before.<br><br>I did think of reusing the polygons found by raycasting to the funnel algorithm, but another side effect of smoothing midpoints that I found interesting is that it often makes the path prefer to stay a little further away from obstacles (provided the triangles are not too large, but this case could be handled by sampling), rather than tightly hugging them for a sharp turn, which looks a bit more natural and leave some breathing room. Of course this is a problem possibly handled better in the path follow logic, but given the time constraints, for now it works well enough. Maybe however using the modified funnel algorithm from this paper could be interesting, though the radius would not be a strict exclusion, more like a preferred stay-away-from-obstacles distance, but I have not looked yet if this desired behavior is compatible with this algorithm or your simplified implementation.<br><br>Of course I might have overlooked something, but this was the best solution I could think of within a quite short time frame. I'm curious to see if you've encountered this problem before and what are your thoughts about it.</p><span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-170575140"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7660492840116693058">Delete</a></span></span></div><div id="bc_0_0BR" class="comment-replies"></div><div id="bc_0_0B_box" class="comment-replybox-single"></div></li><li id="bc_0_1B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7200628265900358133" class="comment-block"><div id="bc_0_1M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268061220110#c7200628265900358133">March 8, 2010 at 7:13 AM</a></span></div><p id="bc_0_1MC" class="comment-content">That is not problem with funnel algorithm, but A*. Ideally you should not fix the path smoothing (because it works), but actually add extra step after A* which tries to adjust the list of path polygons so that it will create shorter path.<br><br>You should spend absolutely minimum amount of time trying to create smooth path, because it will change when someone else moves in the game world.<br><br>Stuff like boundary hugging are better handled using steering algorithms or such, you just get better results that way.<br><br>Just to reiterate:<br><br>1) A* transforms graph into a linear set of polygons which will leave you to target.<br>2) String pulling will tell you where to towards in order to move towards target<br>3) Locomotion/steering will be in charge of the final smooth path. <br><br>That way you will do as little work as necessary. Every smarter-than-potatoe string pulling out there which tries to solve the whole path following dilemma at that stage, just does too much work, and usually creates not very good results, which can described as "more natural and human like" ;)</p><span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7200628265900358133">Delete</a></span></span></div><div id="bc_0_1BR" class="comment-replies"></div><div id="bc_0_1B_box" class="comment-replybox-single"></div></li><li id="bc_0_2B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c3396803269593852057" class="comment-block"><div id="bc_0_2M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/14394507867716855912">Alex</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268079281067#c3396803269593852057">March 8, 2010 at 12:14 PM</a></span></div><p id="bc_0_2MC" class="comment-content">Great post! Could you talk a bit more about how you account for the agent radius size? The way I handled this was to iterate over the final list of smoothed points, and move them further away from the edges of the nav mesh. The question is, in what direction do you move the points, to get them away from the edge of the nav mesh? Here is a bit of psuedocode to describe the direction I use for the offset:<br><br>a = points[i+1] - points[i]<br>b = points[i+2] - points[i]<br>c = Normalize(a*05 + b*0.5)<br>if (ClockwiseTo(b,a))<br>{<br>    offsetDir = Cross(c,up)<br>}<br>else<br>{<br>    offsetDir = Cross(up,c)<br>}<br>points[i+1] += offsetDir*agentRadius<br><br>However, I can see some edge cases where this would not give the best position to move toward. How did you handle this problem through steering?</p><span id="bc_0_2MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-601864027"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=3396803269593852057">Delete</a></span></span></div><div id="bc_0_2BR" class="comment-replies"></div><div id="bc_0_2B_box" class="comment-replybox-single"></div></li><li id="bc_0_3B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c791533325547419099" class="comment-block"><div id="bc_0_3M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268082161126#c791533325547419099">March 8, 2010 at 1:02 PM</a></span></div><p id="bc_0_3MC" class="comment-content">This implementation assumes that the portals are already adjusted so that they contain the agent radius. For example, a navmesh would be shrinked by agent radius.<br><br>This assumption reduces the complexity of all the thing you need to do with navmeshes or any navigation representation a huge amount.<br><br>The only corner case for steering is when you are really close to a corner. AFAIK there is no good solid way to handle that. I usually build the system so that I allow the agent to move quite close to the corner (say, 0.1cm) and then choose the next corner instead. The movement code then deals with this extra slop. You can check the Recast Demo for an example how to do this.</p><span id="bc_0_3MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=791533325547419099">Delete</a></span></span></div><div id="bc_0_3BR" class="comment-replies"></div><div id="bc_0_3B_box" class="comment-replybox-single"></div></li><li id="bc_0_4B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/photo_thumb.png"></div><div id="c1031271252360338751" class="comment-block"><div id="bc_0_4M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/01984049132695001201">Jad</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268648213495#c1031271252360338751">March 15, 2010 at 3:16 AM</a></span></div><p id="bc_0_4MC" class="comment-content">by 'let's trace the polygon edge midpoints' do you mean "Reactive Path Following" in the l4d powerpoint?</p><span id="bc_0_4MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1813031298"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1031271252360338751">Delete</a></span></span></div><div id="bc_0_4BR" class="comment-replies"></div><div id="bc_0_4B_box" class="comment-replybox-single"></div></li><li id="bc_0_5B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c3492271734245423987" class="comment-block"><div id="bc_0_5M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268648983738#c3492271734245423987">March 15, 2010 at 3:29 AM</a></span></div><p id="bc_0_5MC" class="comment-content">Yes. That 'let's trace the polygon edge midpoints' seems to be a common plague.<br><br>I have used string pulling as coder interview questions for quite some time (thanks Danny!) and 60% of the results have been 'let's trace the polygon edge midpoints' plus some wonky magic.<br><br>Only one person (who actually had no AI background) so far has submitted a version of funnel algorithm.</p><span id="bc_0_5MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=3492271734245423987">Delete</a></span></span></div><div id="bc_0_5BR" class="comment-replies"></div><div id="bc_0_5B_box" class="comment-replybox-single"></div></li><li id="bc_0_6B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c2418796246478808865" class="comment-block"><div id="bc_0_6M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268650156053#c2418796246478808865">March 15, 2010 at 3:49 AM</a></span></div><p id="bc_0_6MC" class="comment-content">My point was also, that developers should know better, and not compare their new method to 'let's trace the polygon edge midpoints'.<br><br>It is like someone would compare Killzone2 graphics to a flat shaded triangle.</p><span id="bc_0_6MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=2418796246478808865">Delete</a></span></span></div><div id="bc_0_6BR" class="comment-replies"></div><div id="bc_0_6B_box" class="comment-replybox-single"></div></li><li id="bc_0_7B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4997334708777801525" class="comment-block"><div id="bc_0_7M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00003663574749425028">七碰碰</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1268966314457#c4997334708777801525">March 18, 2010 at 7:38 PM</a></span></div><p id="bc_0_7MC" class="comment-content">how do u do?<a href="http://www.show-show.info/" rel="nofollow"> </a><a href="http://www.show-sexy.info/" rel="nofollow"> </a><a href="http://www.show-sex.info/" rel="nofollow"> </a><a href="http://www.show-meme.info/" rel="nofollow"> </a><a href="http://www.show-meimei.info/" rel="nofollow"> </a><a href="http://www.show-av.info/" rel="nofollow"> </a><a href="http://www.show-520.info/" rel="nofollow"> </a><a href="http://www.show-387.info/" rel="nofollow"> </a><a href="http://www.show-333.info/" rel="nofollow"> </a><a href="http://www.show-258.info/" rel="nofollow"> </a><a href="http://www.show-222.info/" rel="nofollow"> </a><a href="http://www.show-176.info/" rel="nofollow"> </a><a href="http://www.room-tube.info/" rel="nofollow"> </a><a href="http://www.room-top.info/" rel="nofollow"> </a><a href="http://www.room-talk.info/" rel="nofollow"> </a><a href="http://www.room-show.info/" rel="nofollow"> </a><a href="http://www.room-sexy.info/" rel="nofollow"> </a><a href="http://www.room-sex.info/" rel="nofollow"> </a><a href="http://www.room-meme.info/" rel="nofollow"> </a><a href="http://www.room-chat.info/" rel="nofollow"> </a><a href="http://www.room-channel.info/" rel="nofollow"> </a><a href="http://www.room-cam.info/" rel="nofollow"> </a><a href="http://www.room-5320.info/" rel="nofollow"> </a><a href="http://www.room-530.info/" rel="nofollow"> </a><a href="http://www.room-520.info/" rel="nofollow"> </a><a href="http://www.room-080.info/" rel="nofollow"> </a><a href="http://www.room-0401.info/" rel="nofollow"> </a><a href="http://www.meme-jp.info/" rel="nofollow"> </a><a href="http://www.meme-999.info/" rel="nofollow"> </a><a href="http://www.av-ut.info/" rel="nofollow"> </a><a href="http://www.av-tw.info/" rel="nofollow"> </a><a href="http://www.av-tube.info/" rel="nofollow"> </a><a href="http://www.av-talk.info/" rel="nofollow"> </a><a href="http://www.av-sexy.info/" rel="nofollow"> </a><a href="http://www.av-sex.info/" rel="nofollow"> </a><a href="http://www.av-live.info/" rel="nofollow"> </a><a href="http://www.av-kiss.info/" rel="nofollow"> </a><a href="http://www.av-jp.info/" rel="nofollow"> </a><a href="http://www.av-hi.info/" rel="nofollow"> </a><a href="http://www.av-go.info/" rel="nofollow"> </a><a href="http://www.av-ez.info/" rel="nofollow"> </a><a href="http://www.av-baby.info/" rel="nofollow"> </a><a href="http://www.av-asia.info/" rel="nofollow"> </a><a href="http://www.av-adult.info/" rel="nofollow"> </a><a href="http://www.av-999.info/" rel="nofollow"> </a><a href="http://www.av-919.info/" rel="nofollow"> </a><a href="http://www.av-888.info/" rel="nofollow"> </a><a href="http://www.av-777.info/" rel="nofollow"> </a><a href="http://www.av-616.info/" rel="nofollow"> </a><a href="http://www.av-555.info/" rel="nofollow"> </a><a href="http://www.av-5366.info/" rel="nofollow"> </a><a href="http://www.av-5320.info/" rel="nofollow"> </a><a href="http://www.av-530.info/" rel="nofollow"> </a><a href="http://www.av-520.info/" rel="nofollow"> </a></p><span id="bc_0_7MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-209406760"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4997334708777801525">Delete</a></span></span></div><div id="bc_0_7BR" class="comment-replies"></div><div id="bc_0_7B_box" class="comment-replybox-single"></div></li><li id="bc_0_8B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1041344199705829921" class="comment-block"><div id="bc_0_8M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00491167853237745252">Cam</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270180319092#c1041344199705829921">April 1, 2010 at 8:51 PM</a></span></div><p id="bc_0_8MC" class="comment-content">Mikko, in one of your comments you say, "Ideally you should not fix the path smoothing (because it works), but actually add extra step after A* which tries to adjust the list of path polygons so that it will create shorter path". I'm curious as to how that would work? The only method that comes to my mind is effectively string pulling to collapse redundant path nodes.</p><span id="bc_0_8MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1007978823"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1041344199705829921">Delete</a></span></span></div><div id="bc_0_8BR" class="comment-replies"></div><div id="bc_0_8B_box" class="comment-replybox-single"></div></li><li id="bc_0_9B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c332017273647356853" class="comment-block"><div id="bc_0_9M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270193441864#c332017273647356853">April 2, 2010 at 12:30 AM</a></span></div><p id="bc_0_9MC" class="comment-content">Cam, I have not put too much thought into that. The first thing to check would be to see if the extra detour always happens with same pattern. For example, the problems with A* and polygons pretty much always happens when you have large and small next to each other.<br><br>You could use the straight path found by the funnel algorithm as "heuristic" to see how well some alternative corridor performs. The TRA* paper has some discussion regarding this.<br><br>My point was that you should keep the string pulling as fast as possible since you will be updating it constantly when you follow the path.<br><br>If the path corridor is not good enough, then you should fix the problem at its root, not higher up where it takes more processing to get the thing done.</p><span id="bc_0_9MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=332017273647356853">Delete</a></span></span></div><div id="bc_0_9BR" class="comment-replies"></div><div id="bc_0_9B_box" class="comment-replybox-single"></div></li><li id="bc_0_10B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8684254171318102125" class="comment-block"><div id="bc_0_10M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00491167853237745252">Cam</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270265042364#c8684254171318102125">April 2, 2010 at 8:24 PM</a></span></div><p id="bc_0_10MC" class="comment-content">Yeah you are probably right about the path corridor being wrong. It is generally happening in an open area with lots of tiles. What I'm seeing is basically similar to the bottom image in this image http://3.bp.blogspot.com/_-u6ZJlBFOL0/Sl8NQfhU_pI/AAAAAAAAADI/DS3h8mklIjc/s1600-h/heuristics_take2.jpg<br><br>Maybe not the end of the would but if the agent is quite small relative to the tile it's kind of obvious that they're taking a slightly askew route. So it's this sort of scenario I'm interested in solving. On a related note, the post you wrote on Recast's generation settings was quite helpful, but it didn't mention tile sizes. Have you written anything about choosing a good tile size? Mostly I've been using tiles to limit how long edges can get, not for dynamic meshes. But maybe this is the wrong approach.</p><span id="bc_0_10MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1007978823"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8684254171318102125">Delete</a></span></span></div><div id="bc_0_10BR" class="comment-replies"></div><div id="bc_0_10B_box" class="comment-replybox-single"></div></li><li id="bc_0_11B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c3605251546209643732" class="comment-block"><div id="bc_0_11M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270311357002#c3605251546209643732">April 3, 2010 at 9:15 AM</a></span></div><p id="bc_0_11MC" class="comment-content">The tile size depends on why you use tiles in the first place. I shall write a post about it.<br><br>That bottom image is actually pretty good, consider yourself lucky ;)<br><br>The failure pattern in your case that string pulled path* contains "inner mesh" vertex. If you encounter that, you could use raycast() to check if there is straight line to the straight path vertex just after the inner vertex.<br><br>If there is, then you replace the beginning of your path corridor by the results returned by raycast(). Basically you find the furthest common polygon and batch the path corridor up to that polygon.<br><br>You should also have a cache of false alarms, so that you don't try to short cut if the test failed last time.<br><br>There might be other ways to handle that, like trying to find another path around the bad vertex, but I'm quite positive that you can use that inner vertex check to see when you should try to adjust the path. I'm sure there will be other cases too.<br><br><br>*) I usually query just next 2-3 straight path vertices when following path, that idea should work with that kind of queries stuff too, you kinda fix the path as you go.</p><span id="bc_0_11MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=3605251546209643732">Delete</a></span></span></div><div id="bc_0_11BR" class="comment-replies"></div><div id="bc_0_11B_box" class="comment-replybox-single"></div></li><li id="bc_0_12B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c3891136048920709782" class="comment-block"><div id="bc_0_12M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270312942047#c3891136048920709782">April 3, 2010 at 9:42 AM</a></span></div><p id="bc_0_12MC" class="comment-content">One more thing: note that the raycast() is used to fix the corridor, _not_ to fix the straight path.</p><span id="bc_0_12MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=3891136048920709782">Delete</a></span></span></div><div id="bc_0_12BR" class="comment-replies"></div><div id="bc_0_12B_box" class="comment-replybox-single"></div></li><li id="bc_0_13B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1528371909481290346" class="comment-block"><div id="bc_0_13M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/00491167853237745252">Cam</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270327378473#c1528371909481290346">April 3, 2010 at 1:42 PM</a></span></div><p id="bc_0_13MC" class="comment-content">Ah cool. That's what I've done in the past. I was under the impression that was what you were objecting to, but I think I got the wrong end of the stick :)<br><br>Thanks for your help.</p><span id="bc_0_13MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1007978823"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1528371909481290346">Delete</a></span></span></div><div id="bc_0_13BR" class="comment-replies"></div><div id="bc_0_13B_box" class="comment-replybox-single"></div></li><li id="bc_0_14B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c5826921012497216885" class="comment-block"><div id="bc_0_14M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1270328414709#c5826921012497216885">April 3, 2010 at 2:00 PM</a></span></div><p id="bc_0_14MC" class="comment-content">Just make sure you fix the corridor using the raycast, and not use that to fix string pulling every time you need new straight path. Then I don't object :)</p><span id="bc_0_14MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=5826921012497216885">Delete</a></span></span></div><div id="bc_0_14BR" class="comment-replies"></div><div id="bc_0_14B_box" class="comment-replybox-single"></div></li><li id="bc_0_15B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1169766899525048761" class="comment-block"><div id="bc_0_15M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07417777746120458820">arndt</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1277475430500#c1169766899525048761">June 25, 2010 at 7:17 AM</a></span></div><p id="bc_0_15MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_15MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin "><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1169766899525048761">Delete</a></span></span></div><div id="bc_0_15BR" class="comment-replies"></div><div id="bc_0_15B_box" class="comment-replybox-single"></div></li><li id="bc_0_16B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7039925394242110091" class="comment-block"><div id="bc_0_16M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07417777746120458820">Mene</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1277475558334#c7039925394242110091">June 25, 2010 at 7:19 AM</a></span></div><p id="bc_0_16MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_16MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin "><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7039925394242110091">Delete</a></span></span></div><div id="bc_0_16BR" class="comment-replies"></div><div id="bc_0_16B_box" class="comment-replybox-single"></div></li><li id="bc_0_17B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4044662039262867874" class="comment-block"><div id="bc_0_17M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07417777746120458820">Mene</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1277475953151#c4044662039262867874">June 25, 2010 at 7:25 AM</a></span></div><p id="bc_0_17MC" class="comment-content">Don't you need to check if the destination point lies above or below the current funnel? If so you need to add the left / right point as additional waypoint. Or am I missing something?<br>Consider this case: http://bit.ly/aY0YHV<br>(purple is current apex, orange arrow is left, blue arrow is right, yellow arrows are portals, target is the circle, beginning of the channel is top left)<br><br>kiitos for this blog ;D</p><span id="bc_0_17MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-527331262"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4044662039262867874">Delete</a></span></span></div><div id="bc_0_17BR" class="comment-replies"></div><div id="bc_0_17B_box" class="comment-replybox-single"></div></li><li id="bc_0_18B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c120673829675380472" class="comment-block"><div id="bc_0_18M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1277481552540#c120673829675380472">June 25, 2010 at 8:59 AM</a></span></div><p id="bc_0_18MC" class="comment-content">In your example, the point will be added, when you process the last portal, that is, the destination point. If you take a look at the usage code above, I set the last portal to be null length segment, where both end-points are the goal point.</p><span id="bc_0_18MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=120673829675380472">Delete</a></span></span></div><div id="bc_0_18BR" class="comment-replies"></div><div id="bc_0_18B_box" class="comment-replybox-single"></div></li><li id="bc_0_19B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7457216185355966210" class="comment-block"><div id="bc_0_19M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/07417777746120458820">Mene</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1277489173005#c7457216185355966210">June 25, 2010 at 11:06 AM</a></span></div><p id="bc_0_19MC" class="comment-content">Ah, so I indeed did miss something.</p><span id="bc_0_19MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-527331262"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7457216185355966210">Delete</a></span></span></div><div id="bc_0_19BR" class="comment-replies"></div><div id="bc_0_19B_box" class="comment-replybox-single"></div></li><li id="bc_0_20B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c9070622941573197182" class="comment-block"><div id="bc_0_20M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">M</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1291677833401#c9070622941573197182">December 6, 2010 at 3:23 PM</a></span></div><p id="bc_0_20MC" class="comment-content">Hi,<br><br>Can you please tell me what does vcpy do?<br>Does it copy vectors?<br><br>Thanks in advance</p><span id="bc_0_20MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1725720319"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=9070622941573197182">Delete</a></span></span></div><div id="bc_0_20BR" class="comment-replies"></div><div id="bc_0_20B_box" class="comment-replybox-single"></div></li><li id="bc_0_21B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7746502375942268365" class="comment-block"><div id="bc_0_21M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1291708844124#c7746502375942268365">December 7, 2010 at 12:00 AM</a></span></div><p id="bc_0_21MC" class="comment-content">For 3d vector:<br><br>inline void vcpy(float* dst, const float* src)<br>{<br>  dst[0] = src[0];<br>  dst[1] = src[1];<br>  dst[2] = src[2];<br>}<br><br>for 2D vector<br><br>inline void vcpy(float* dst, const float* src)<br>{<br>  dst[0] = src[0];<br>  dst[1] = src[1];<br>}</p><span id="bc_0_21MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7746502375942268365">Delete</a></span></span></div><div id="bc_0_21BR" class="comment-replies"></div><div id="bc_0_21B_box" class="comment-replybox-single"></div></li><li id="bc_0_22B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c5096502056696856644" class="comment-block"><div id="bc_0_22M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/01114758411634262538">Ben</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1293735653521#c5096502056696856644">December 30, 2010 at 11:00 AM</a></span></div><p id="bc_0_22MC" class="comment-content">I would really like to understand what triarea2 does, but my geometry/trig/linear algebra skills are very rusty.  Can you describe this formula enough so that I can search around and figure out how this works?</p><span id="bc_0_22MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1365625256"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=5096502056696856644">Delete</a></span></span></div><div id="bc_0_22BR" class="comment-replies"></div><div id="bc_0_22B_box" class="comment-replybox-single"></div></li><li id="bc_0_23B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8551287459524813485" class="comment-block"><div id="bc_0_23M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1293736931601#c8551287459524813485">December 30, 2010 at 11:22 AM</a></span></div><p id="bc_0_23MC" class="comment-content">It calculates twice the triangle area using 2D cross product. See the following article for more details: http://softsurfer.com/Archive/algorithm_0101/algorithm_0101.htm</p><span id="bc_0_23MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8551287459524813485">Delete</a></span></span></div><div id="bc_0_23BR" class="comment-replies"></div><div id="bc_0_23B_box" class="comment-replybox-single"></div></li><li id="bc_0_24B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/rita_sleeping_150.png"></div><div id="c1632629156023136992" class="comment-block"><div id="bc_0_24M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/12709774256913581269">soywiz</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1297942034245#c1632629156023136992">February 17, 2011 at 3:27 AM</a></span></div><p id="bc_0_24MC" class="comment-content">Javascript implementation of "Digesting Duck :: Simple Stupid Funnel Algorithm":<br><br>http://pastebin.com/7jwrmw1i</p><span id="bc_0_24MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-511154213"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1632629156023136992">Delete</a></span></span></div><div id="bc_0_24BR" class="comment-replies"></div><div id="bc_0_24B_box" class="comment-replybox-single"></div></li><li id="bc_0_25B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8836892736030358410" class="comment-block"><div id="bc_0_25M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05161613357758680513">utkutest</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1303253332279#c8836892736030358410">April 19, 2011 at 3:48 PM</a></span></div><p id="bc_0_25MC" class="comment-content">Hi Mikko, <br><br>Portals do not have to be between triangles, portals between convex polygons with any number of vertices will also work right ?</p><span id="bc_0_25MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-52647484"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8836892736030358410">Delete</a></span></span></div><div id="bc_0_25BR" class="comment-replies"></div><div id="bc_0_25B_box" class="comment-replybox-single"></div></li><li id="bc_0_26B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1880453749089854448" class="comment-block"><div id="bc_0_26M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1303279851669#c1880453749089854448">April 19, 2011 at 11:10 PM</a></span></div><p id="bc_0_26MC" class="comment-content">Hi utkutest, portals can be between any convex shape. The only restriction is that the portals should not intersect, by they can share a common vertex, though. This means that the string pulling can be also used for grid based pathfinders. Squares are as convex polygons as others :)</p><span id="bc_0_26MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1880453749089854448">Delete</a></span></span></div><div id="bc_0_26BR" class="comment-replies"></div><div id="bc_0_26B_box" class="comment-replybox-single"></div></li><li id="bc_0_27B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c629608733347971210" class="comment-block"><div id="bc_0_27M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05161613357758680513">utkutest</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1303400739494#c629608733347971210">April 21, 2011 at 8:45 AM</a></span></div><p id="bc_0_27MC" class="comment-content">Thanks Mikko, I've read the paper, your implementation is way cooler to be honest, I did not like that pseudo code at all, it was even very hard to follow for me.</p><span id="bc_0_27MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-52647484"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=629608733347971210">Delete</a></span></span></div><div id="bc_0_27BR" class="comment-replies"></div><div id="bc_0_27B_box" class="comment-replybox-single"></div></li><li id="bc_0_28B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4947450328288614127" class="comment-block"><div id="bc_0_28M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02444019565808877389">Stephen</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318264182509#c4947450328288614127">October 10, 2011 at 9:29 AM</a></span></div><p id="bc_0_28MC" class="comment-content">Hi,<br><br>Thanks for this post, I was trying to solve this problem and you're approach is working well.<br><br>I'm curious about the agent radius problem, you say in an earlier post that: <br><br>"This implementation assumes that the portals are already adjusted so that they contain the agent radius. For example, a navmesh would be shrinked by agent radius."<br><br>But what does it mean in practice to shrink to mesh?<br><br>I notice that thesis you linked to has it's own suggestions for dealing with agent size without modifying the mesh itself, do you recommend this approach?<br><br>Thanks for any help.</p><span id="bc_0_28MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-218027438"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4947450328288614127">Delete</a></span></span></div><div id="bc_0_28BR" class="comment-replies"></div><div id="bc_0_28B_box" class="comment-replybox-single"></div></li><li id="bc_0_29B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c987759345437993891" class="comment-block"><div id="bc_0_29M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16587168742111723848">c</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318372482798#c987759345437993891">October 11, 2011 at 3:34 PM</a></span></div><p id="bc_0_29MC" class="comment-content">I was wondering the same thing as Stephen.<br>And if you preshrink a mesh does this mean that all agents have to have the same radius?</p><span id="bc_0_29MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-290784269"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=987759345437993891">Delete</a></span></span></div><div id="bc_0_29BR" class="comment-replies"></div><div id="bc_0_29B_box" class="comment-replybox-single"></div></li><li id="bc_0_30B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c2857297620377014804" class="comment-block"><div id="bc_0_30M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318397422434#c2857297620377014804">October 11, 2011 at 10:30 PM</a></span></div><p id="bc_0_30MC" class="comment-content">c, yes. The whole problem is about 100x more complicated if you don't shrink the mesh. There are links to such papers elsewhere on this blog.</p><span id="bc_0_30MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=2857297620377014804">Delete</a></span></span></div><div id="bc_0_30BR" class="comment-replies"></div><div id="bc_0_30B_box" class="comment-replybox-single"></div></li><li id="bc_0_31B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1947363780931248373" class="comment-block"><div id="bc_0_31M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16587168742111723848">c</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318406608746#c1947363780931248373">October 12, 2011 at 1:03 AM</a></span></div><p id="bc_0_31MC" class="comment-content">The disadvantage is that shrinking the mesh isn't so easy if you have to build the mesh by hand, especially if you have to build multiple meshes for different agent sizes.</p><span id="bc_0_31MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-290784269"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1947363780931248373">Delete</a></span></span></div><div id="bc_0_31BR" class="comment-replies"></div><div id="bc_0_31B_box" class="comment-replybox-single"></div></li><li id="bc_0_32B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c5694461373459611831" class="comment-block"><div id="bc_0_32M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318422089210#c5694461373459611831">October 12, 2011 at 5:21 AM</a></span></div><p id="bc_0_32MC" class="comment-content">c, that's true. I recommend automatic navmesh building :)</p><span id="bc_0_32MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=5694461373459611831">Delete</a></span></span></div><div id="bc_0_32BR" class="comment-replies"></div><div id="bc_0_32B_box" class="comment-replybox-single"></div></li><li id="bc_0_33B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7613820600217177205" class="comment-block"><div id="bc_0_33M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16587168742111723848">c</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318443075798#c7613820600217177205">October 12, 2011 at 11:11 AM</a></span></div><p id="bc_0_33MC" class="comment-content">Even though I'm working in 2D and not 3D, I think automatic navmesh generation is a little beyond my abilities, especially since I cannot find anything on the subject on the internet.</p><span id="bc_0_33MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-290784269"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7613820600217177205">Delete</a></span></span></div><div id="bc_0_33BR" class="comment-replies"></div><div id="bc_0_33B_box" class="comment-replybox-single"></div></li><li id="bc_0_34B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8605949388364169995" class="comment-block"><div id="bc_0_34M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318443333625#c8605949388364169995">October 12, 2011 at 11:15 AM</a></span></div><p id="bc_0_34MC" class="comment-content">c, this is your lucky day! Look around this blog, it's all about automatic navmesh generation.</p><span id="bc_0_34MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8605949388364169995">Delete</a></span></span></div><div id="bc_0_34BR" class="comment-replies"></div><div id="bc_0_34B_box" class="comment-replybox-single"></div></li><li id="bc_0_35B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c1982959955567151565" class="comment-block"><div id="bc_0_35M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16587168742111723848">c</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1318447297301#c1982959955567151565">October 12, 2011 at 12:21 PM</a></span></div><p id="bc_0_35MC" class="comment-content">Maybe, but I'm having a hard time finding anything and most of the stuff you write on this site is over my head.</p><span id="bc_0_35MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-290784269"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=1982959955567151565">Delete</a></span></span></div><div id="bc_0_35BR" class="comment-replies"></div><div id="bc_0_35B_box" class="comment-replybox-single"></div></li><li id="bc_0_36B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c2771776088069544702" class="comment-block"><div id="bc_0_36M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1322427269588#c2771776088069544702">November 27, 2011 at 12:54 PM</a></span></div><p id="bc_0_36MC" class="comment-content">When checking the left portion do we have to compare angles counterclockwise?<br>And when it's the right portion is it clockwise?</p><span id="bc_0_36MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1725720319"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=2771776088069544702">Delete</a></span></span></div><div id="bc_0_36BR" class="comment-replies"></div><div id="bc_0_36B_box" class="comment-replybox-single"></div></li><li id="bc_0_37B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c9086515664754628586" class="comment-block"><div id="bc_0_37M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1322465308852#c9086515664754628586">November 27, 2011 at 11:28 PM</a></span></div><p id="bc_0_37MC" class="comment-content">@Unknown, you don't need to compare angles. You just need to check if a point is on a certain side of a segment. This can be done by calculating the winding of a triangle which is formet by the two points of the segment and the third point you want to check. The sign of the triangle area will tell you on which way the triangle is would, that is, on which side of the segment the third point is.</p><span id="bc_0_37MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=9086515664754628586">Delete</a></span></span></div><div id="bc_0_37BR" class="comment-replies"></div><div id="bc_0_37B_box" class="comment-replybox-single"></div></li><li id="bc_0_38B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c46755763428154940" class="comment-block"><div id="bc_0_38M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1323399958180#c46755763428154940">December 8, 2011 at 7:05 PM</a></span></div><p id="bc_0_38MC" class="comment-content">Thanks a lot. What happen if triarea = 0 ?? The point tested goes through both if conditions?</p><span id="bc_0_38MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1725720319"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=46755763428154940">Delete</a></span></span></div><div id="bc_0_38BR" class="comment-replies"></div><div id="bc_0_38B_box" class="comment-replybox-single"></div></li><li id="bc_0_39B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4959459155564916919" class="comment-block"><div id="bc_0_39M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1325514931174#c4959459155564916919">January 2, 2012 at 6:35 AM</a></span></div><p id="bc_0_39MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_39MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin "><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4959459155564916919">Delete</a></span></span></div><div id="bc_0_39BR" class="comment-replies"></div><div id="bc_0_39B_box" class="comment-replybox-single"></div></li><li id="bc_0_40B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7602137752191637585" class="comment-block"><div id="bc_0_40M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1325514948612#c7602137752191637585">January 2, 2012 at 6:35 AM</a></span></div><p id="bc_0_40MC" class="comment-content"><span class="deleted-comment">This comment has been removed by the author.</span></p><span id="bc_0_40MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin "><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7602137752191637585">Delete</a></span></span></div><div id="bc_0_40BR" class="comment-replies"></div><div id="bc_0_40B_box" class="comment-replybox-single"></div></li><li id="bc_0_41B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8803524447874495854" class="comment-block"><div id="bc_0_41M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02156280264897864977">Unknown</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1325515016711#c8803524447874495854">January 2, 2012 at 6:36 AM</a></span></div><p id="bc_0_41MC" class="comment-content">Does anyone know the problem in this case?<br>http://www.gamedev.net/topic/617458-doug-demyens-funnel-algorithm/</p><span id="bc_0_41MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1725720319"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8803524447874495854">Delete</a></span></span></div><div id="bc_0_41BR" class="comment-replies"></div><div id="bc_0_41B_box" class="comment-replybox-single"></div></li><li id="bc_0_42B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c6446462525948692190" class="comment-block"><div id="bc_0_42M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/11207078423806439345">shawn</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1337795806437#c6446462525948692190">May 23, 2012 at 10:56 AM</a></span></div><p id="bc_0_42MC" class="comment-content">hi Mikko,<br><br>some game developers pointed out that n-sided convex polygon mesh is not ideal for pathfinding. They thought tri-mesh is better. but i thought the search can be faster in a poly-based mesh as less nodes are examined when you treat them as A* nodes. what do you think? do you think the poly-based mesh is still worth studying?<br><br>I just implemented your methods on a polygon-based mesh. Compared with triangle-based mesh, I found the running time even slower. So I am confused now.<br><br>cheers,<br>Shawn</p><span id="bc_0_42MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-817984913"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=6446462525948692190">Delete</a></span></span></div><div id="bc_0_42BR" class="comment-replies"></div><div id="bc_0_42B_box" class="comment-replybox-single"></div></li><li id="bc_0_48B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c7013411727707057584" class="comment-block"><div id="bc_0_48M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1337796215402#c7013411727707057584">May 23, 2012 at 11:03 AM</a></span></div><p id="bc_0_48MC" class="comment-content">Polygons are indeed usually favored since they result less A* nodes. That is the reason Detour uses them too. The memory usage is usually similar.<br><br>What are those dev's reasons for tri meshes being better?<br><br>What parts of code are slower when you use polygon based methods?</p><span id="bc_0_48MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=7013411727707057584">Delete</a></span></span></div><div id="bc_0_48BR" class="comment-replies"><span id="bc_0_48b+seed4AaD" kind="d"><div id="bc_0_43T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_43TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_43TA" class="thread-arrow"></span><span id="bc_0_43TN" class="thread-count"><span id="bc_0_43TNT" style="display: none;"></span><span id="bc_0_43TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_43TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_43TC" class="thread-chrome thread-expanded"><div><li id="bc_0_43B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c6373275467888693566" class="comment-block"><div id="bc_0_43M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/01706441295327752242">Xiao</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1338384876271#c6373275467888693566">May 30, 2012 at 6:34 AM</a></span></div><p id="bc_0_43MC" class="comment-content">Thanks a lot, Mikko. Your comment is quite helpful. <br><br>I thought the problem could be how to find the left and right points. In a triangle-based mesh, if we know a point is on one side, the other point is clearly on the opposite side. Cycling through the triangles is much faster than the polygons as we have to decide the left and right points by cycling through all the end-points in the polygon. <br><br>For example, to determine whether a point on a portal, we have to cycle through the polygon from that point in two directions until finding a previous left or right point or another endpoint of that portal.<br><br>I thought this process takes more time than it in triangles. Do you have any suggestion to improve it? <br><br>And do you have any idea why many game engines still choose a tri-mesh based pathfinding? Does it imply that in the context of geometry, generating a triangle-based mesh (splitting a map into a set of triangles) is much easier or faster than generating a polygon-based mesh?<br><br>Many thanks again.<br><br>Cheers,<br>Shawn</p><span id="bc_0_43MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-66004936"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=6373275467888693566">Delete</a></span></span></div><div id="bc_0_43BR" class="comment-replies"></div><div id="bc_0_43B_box" class="comment-replybox-single"></div></li><li id="bc_0_44B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c6178744802933750334" class="comment-block"><div id="bc_0_44M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1338385142167#c6178744802933750334">May 30, 2012 at 6:39 AM</a></span></div><p id="bc_0_44MC" class="comment-content">Finding portal between two polygons should not be a speed issue. Each edge stores an index/reference to neighbour polygon, so it is just few integer compares.<br><br>One advantage triangles have is that they are really easy to store, as each triangle takes the same amount of memory. Detour stores polygons in similar manner too to keep random access fast (i.e. all polygons have 6 vertices), but in the process you loose some memory. The amount of memory is usually insignificant.</p><span id="bc_0_44MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=6178744802933750334">Delete</a></span></span></div><div id="bc_0_44BR" class="comment-replies"></div><div id="bc_0_44B_box" class="comment-replybox-single"></div></li><li id="bc_0_45B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8528632527898449680" class="comment-block"><div id="bc_0_45M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/01706441295327752242">Xiao</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1338441735074#c8528632527898449680">May 30, 2012 at 10:22 PM</a></span></div><p id="bc_0_45MC" class="comment-content">Yes, you are right. Finding a portal edge between two adjacent polygons is not a big issue. But we have to determine which point is left and right before we can process the portal.<br><br>I thought my program spent too much time on determining the left and right points (because each time I have to cycle through the whole polygon so as to determine which is left or right point based on previous left and right points). Do you have better idea?<br><br>Many thanks,<br>Shawn</p><span id="bc_0_45MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-66004936"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8528632527898449680">Delete</a></span></span></div><div id="bc_0_45BR" class="comment-replies"></div><div id="bc_0_45B_box" class="comment-replybox-single"></div></li><li id="bc_0_46B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8120060623660717695" class="comment-block"><div id="bc_0_46M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1338442224034#c8120060623660717695">May 30, 2012 at 10:30 PM</a></span></div><p id="bc_0_46MC" class="comment-content">You're thinking too complicated. If an edge in a CCW triangle/polygon is defined as two consecutive vertices, then the first of those vertices is right and second vertex left. No need to calculate anything at all! :)</p><span id="bc_0_46MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8120060623660717695">Delete</a></span></span></div><div id="bc_0_46BR" class="comment-replies"></div><div id="bc_0_46B_box" class="comment-replybox-single"></div></li><li id="bc_0_47B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c8387332615138290402" class="comment-block"><div id="bc_0_47M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/01706441295327752242">Xiao</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1340216657721#c8387332615138290402">June 20, 2012 at 11:24 AM</a></span></div><p id="bc_0_47MC" class="comment-content">Thanks a lot, Mikko. <br><br>As you have suggested, I stored polygons in CCW and did some pre-processing including:<br><br>- calculating adjacent polygons for each polygon<br>- finding the mutual edge between each two polygons<br><br>Now the program is much faster than triangle-based one. Thank you.<br><br>Cheers,<br>Shawn</p><span id="bc_0_47MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-66004936"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8387332615138290402">Delete</a></span></span></div><div id="bc_0_47BR" class="comment-replies"></div><div id="bc_0_47B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_43I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_43T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_48B_box" class="comment-replybox-single"></div></li><li id="bc_0_49B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4618147066447247595" class="comment-block"><div id="bc_0_49M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16741605519851315032">Ollik</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1340893770934#c4618147066447247595">June 28, 2012 at 7:29 AM</a></span></div><p id="bc_0_49MC" class="comment-content">I did a test using pretty much a copy of your code. For me, the end point gets added twice to the result path in some cases.<br><br>More specifically this happens if the left or right vertex of the last actual portal is not part of the result path.<br><br>Not 100% sure if it's bug in the code or maybe something to do with the input data, but with a quick investigation my input data looked to be sane.</p><span id="bc_0_49MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-601374326"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4618147066447247595">Delete</a></span></span></div><div id="bc_0_49BR" class="comment-replies"></div><div id="bc_0_49B_box" class="comment-replybox-single"></div></li><li id="bc_0_50B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/openid36-rounded.png"></div><div id="c2347566821170102926" class="comment-block"><div id="bc_0_50M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://me.yahoo.com/a/R4xwcfc1otzZRrFxighrn_JgUgY-">Cameron</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1350401904267#c2347566821170102926">October 16, 2012 at 8:38 AM</a></span></div><p id="bc_0_50MC" class="comment-content">Hi Mikko, can you suggest an algorithm or reference for constructing the portals (or channels as some white papers call them)? I think I'm constructing them mostly correctly but missing a few edge cases. </p><span id="bc_0_50MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1123006620"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=2347566821170102926">Delete</a></span></span></div><div id="bc_0_50BR" class="comment-replies"></div><div id="bc_0_50B_box" class="comment-replybox-single"></div></li><li id="bc_0_52B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c2512932577020514327" class="comment-block"><div id="bc_0_52M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1350403708838#c2512932577020514327">October 16, 2012 at 9:08 AM</a></span></div><p id="bc_0_52MC" class="comment-content">@Cameron, in my code and the pictures above, I call the yellow dashed edges portals. If you're polygons are wound counter clockwise, then it should be as simple as using the two consecutive vertices if the current polygon as the portal.<br><br>For example:<br>if pidx=current polygon, eidx=corrent polygon edges index (that is the edge that leads o the next polygon), then the portal is:<br><br>p = polygons[pidx];<br>left = vertices[p.verts[eidx];<br>right = vertices[p.verts[(eidx+1)%p.nverts];<br><br>(I may have left and right mixed up in the code, or the code may actually assume clockwise polygon, I tend to mix these up sometimes).</p><span id="bc_0_52MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=2512932577020514327">Delete</a></span></span></div><div id="bc_0_52BR" class="comment-replies"><span id="bc_0_52b+seed4AiD" kind="d"><div id="bc_0_51T" class="comment-thread inline-thread" kind="t" t="0" u="0"><span id="bc_0_51TT" class="thread-toggle thread-expanded" kind="g"><span id="bc_0_51TA" class="thread-arrow"></span><span id="bc_0_51TN" class="thread-count"><span id="bc_0_51TNT" style="display: none;"></span><span id="bc_0_51TNU" style="display: none;"></span><a href="javascript:;" target="_self">Replies</a><div id="bc_0_51TD" class="thread-dropContainer thread-expanded"><span class="thread-drop"></span></div></span></span><ol id="bc_0_51TC" class="thread-chrome thread-expanded"><div><li id="bc_0_51B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/openid36-rounded.png"></div><div id="c8132801132551758951" class="comment-block"><div id="bc_0_51M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://me.yahoo.com/a/R4xwcfc1otzZRrFxighrn_JgUgY-">Cameron</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1350409045712#c8132801132551758951">October 16, 2012 at 10:37 AM</a></span></div><p id="bc_0_51MC" class="comment-content">Thank you for the swift reply Mikko. That makes sense, I think I was over complicating it. Thanks again for the great write up!</p><span id="bc_0_51MN" class="comment-actions secondary-text" kind="m"><span class="item-control blog-admin pid-1123006620"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=8132801132551758951">Delete</a></span></span></div><div id="bc_0_51BR" class="comment-replies"></div><div id="bc_0_51B_box" class="comment-replybox-single"></div></li></div><div id="bc_0_51I" class="continue" kind="ci"><a href="javascript:;" target="_self">Reply</a></div></ol><div id="bc_0_51T_box" class="comment-replybox-thread"></div></div></span></div><div id="bc_0_52B_box" class="comment-replybox-single"></div></li><li id="bc_0_53B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c625044948298455156" class="comment-block"><div id="bc_0_53M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/03002139848836152175">Sean</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1354984138456#c625044948298455156">December 8, 2012 at 8:28 AM</a></span></div><p id="bc_0_53MC" class="comment-content">So, I've been working on my own implementation of the funnel algorithm and I realized what sacrifice you're making with this (as you called it) "simple stupid funnel algorithm".  The "sleeve" you've shown in the illustration is clearly taken from the Lee and Preparata paper.  However, it works because the funnel's extents get contracted by each successive portal/edge.  Your funnel doesn't cut through the center of portals.  If it were to, you'd get an unhappy path.  It is for these cases that the whole double-ended queue is used.  Did you want to comment on that at all?</p><span id="bc_0_53MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-904765445"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=625044948298455156">Delete</a></span></span></div><div id="bc_0_53BR" class="comment-replies"></div><div id="bc_0_53B_box" class="comment-replybox-single"></div></li><li id="bc_0_54B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c5730387588806065047" class="comment-block"><div id="bc_0_54M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/04038191655911717129">lurkingdevil</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1387846017709#c5730387588806065047">December 23, 2013 at 4:46 PM</a></span></div><p id="bc_0_54MC" class="comment-content">Which one is the left and right edges? Blue or Orange?<br><br>Its really confusing because in the given demo, you first say<br><br>If the new left endpoint is outside the funnel, the funnel is not update (E-F)<br>(indicating that orange is left)<br><br>and then you say:<br><br>If the new left end point is over right funnel edge (F), we add the right funnel as a corner in the path and place the apex of the funnel at the right funnel point location and restart the algorithm from there (G).<br>(indicating blue is left)<br><br>I've been trying to link the demo with the code for hours but it isn't making sense...</p><span id="bc_0_54MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1249092122"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=5730387588806065047">Delete</a></span></span></div><div id="bc_0_54BR" class="comment-replies"></div><div id="bc_0_54B_box" class="comment-replybox-single"></div></li><li id="bc_0_55B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/b36-rounded.png"></div><div id="c4175035610934125390" class="comment-block"><div id="bc_0_55M" class="comment-header" kind="m"><cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/11900996590678707801">Mikko Mononen</a></cite><span class="icon user blog-author"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1387992239469#c4175035610934125390">December 25, 2013 at 9:23 AM</a></span></div><p id="bc_0_55MC" class="comment-content">The algorithm is quite confusing to try to explain in words. I think in the point 3/3 I have mixed left and right, so it probably should read:<br><br>If the new right end point is over left funnel edge (F), we add the left funnel as a corner in the path and place the apex of the funnel at the left funnel point location and restart the algorithm from there (G). </p><span id="bc_0_55MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-557373609"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=4175035610934125390">Delete</a></span></span></div><div id="bc_0_55BR" class="comment-replies"></div><div id="bc_0_55B_box" class="comment-replybox-single"></div></li><li id="bc_0_56B" class="comment" kind="b"><div class="avatar-image-container"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/photo.jpg"></div><div id="c5626719049888105187" class="comment-block"><div id="bc_0_56M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/04118156962601070996">alina brate</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html?showComment=1409639124552#c5626719049888105187">September 1, 2014 at 11:25 PM</a></span></div><p id="bc_0_56MC" class="comment-content">thanx for this detail<br><a href="http://www.plasticlabwareindia.com/" rel="nofollow">Plastic Manufacturers</a></p><span id="bc_0_56MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-431591918"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=1272803659321539598&postID=5626719049888105187">Delete</a></span></span></div><div id="bc_0_56BR" class="comment-replies"></div><div id="bc_0_56B_box" class="comment-replybox-single"></div></li></ol><div id="bc_0_57I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">Add comment</a></div><div id="bc_0_57T_box" class="comment-replybox-thread"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" frameborder="0" height="254px" id="comment-editor" name="comment-editor" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/comment-iframe.html" width="100%" style="display: block;"></iframe></div><div id="bc_0_57L" class="loadmore loaded" kind="rb"><a href="javascript:;" target="_self">Load more...</a></div></div></div></div></div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=1272803659321539598&postID=561673051536523114&blogspotRpcToken=7688876" id="comment-editor-src"></a>

<script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/2443413180-comment_from_post_iframe.js"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://digestingduck.blogspot.kr/2010/03/local-navigation-grids.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://digestingduck.blogspot.kr/2010/03/blind-sighted.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://digestingduck.blogspot.kr/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://digestingduck.blogspot.com/feeds/561673051536523114/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget CustomSearch" id="CustomSearch1">
<h2 class="title">Search This Blog</h2>
<div class="widget-content">
<div id="CustomSearch1_form"><form class="gsc-search-box" accept-charset="utf-8"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><input autocomplete="off" type="text" size="10" class=" gsc-input" name="search" title="search"><input type="hidden" name="bgresponse" id="bgresponse"></td><td class="gsc-search-button"><input type="submit" value="Search" class="gsc-search-button" title="search"></td></tr></tbody></table><table cellspacing="0" cellpadding="0" class="gsc-branding"><tbody><tr style="display: none;"><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">powered by</div></td><td class="gsc-branding-img-noclear"><img src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/small-logo.png" class="gsc-branding-img-noclear"></td></tr></tbody></table></form></div>
</div>
<style type="text/css">
      #uds-searchControl .gs-result .gs-title,
      #uds-searchControl .gs-result .gs-title *,
      #uds-searchControl .gsc-results .gsc-trailing-more-results,
      #uds-searchControl .gsc-results .gsc-trailing-more-results * {
        color:#2288bb;
      }

      #uds-searchControl .gs-result .gs-title a:visited,
      #uds-searchControl .gs-result .gs-title a:visited * {
        color:#888888;
      }

      #uds-searchControl .gs-relativePublishedDate,
      #uds-searchControl .gs-publishedDate {
        color: #bbbbbb;
      }

      #uds-searchControl .gs-result a.gs-visibleUrl,
      #uds-searchControl .gs-result .gs-visibleUrl {
        color: #2288bb;
      }

      #uds-searchControl .gsc-results {
        border-color: #dddddd;
        background-color: #ffffff;
      }

      #uds-searchControl .gsc-tabhActive {
        border-color: #dddddd;
        border-top-color: #dddddd;
        background-color: #ffffff;
        color: #444444;
      }

      #uds-searchControl .gsc-tabhInactive {
        border-color: #dddddd;
        background-color: transparent;
        color: #2288bb;
      }

      #uds-searchClearResults {
        border-color: #dddddd;
      }

      #uds-searchClearResults:hover {
        border-color: #dddddd;
      }

      #uds-searchControl .gsc-cursor-page {
        color: #2288bb;
      }

      #uds-searchControl .gsc-cursor-current-page {
        color: #444444;
      }
    </style>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=CustomSearch&widgetId=CustomSearch1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;CustomSearch1&quot;));" target="configCustomSearch1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget LinkList" id="LinkList1">
<h2>Recast &amp; Detour</h2>
<div class="widget-content">
<ul>
<li><a href="http://groups.google.com/group/recastnavigation">Recast &amp; Detour discussion group</a></li>
<li><a href="http://code.google.com/p/recastnavigation/">Recast &amp; Detour source code</a></li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=LinkList&widgetId=LinkList1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;LinkList1&quot;));" target="configLinkList1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Gadget" id="Gadget1">
There was an error in this gadget
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=Gadget&widgetId=Gadget1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Gadget1&quot;));" target="configGadget1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget BlogArchive" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/search?updated-min=2012-01-01T00:00:00-08:00&updated-max=2013-01-01T00:00:00-08:00&max-results=7">
2012
</a>
<span class="post-count" dir="ltr">(7)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2012_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2012_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2012_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2012_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/search?updated-min=2011-01-01T00:00:00-08:00&updated-max=2012-01-01T00:00:00-08:00&max-results=30">
2011
</a>
<span class="post-count" dir="ltr">(30)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(9)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2011_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/search?updated-min=2010-01-01T00:00:00-08:00&updated-max=2011-01-01T00:00:00-08:00&max-results=50">
2010
</a>
<span class="post-count" dir="ltr">(70)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(18)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(8)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(10)</span>
<ul class="posts">
<li><a href="http://digestingduck.blogspot.kr/2010/03/my-favorite-protyping-environment.html">My Favorite Protyping Environment</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/detour-serialization-api.html">Detour Serialization API</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/geometric-vs-sampling.html">Geometric vs. Sampling</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/custom-hrvo.html">Custom hRVO</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/local-navigation-grids.html">Local Navigation Grids</a></li>
<li><a href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/Digesting Duck_ Simple Stupid Funnel Algorithm.html">Simple Stupid Funnel Algorithm</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/blind-sighted.html">Blind Sighted</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/save-games-and-all-that.html">Save Games and All That</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/power-of-less.html">Power of Less</a></li>
<li><a href="http://digestingduck.blogspot.kr/2010/03/sketch-for-hierarchical-pathfinding.html">Sketch for Hierarchical Pathfinding Using Detour</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2010_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/search?updated-min=2009-01-01T00:00:00-08:00&updated-max=2010-01-01T00:00:00-08:00&max-results=50">
2009
</a>
<span class="post-count" dir="ltr">(56)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(8)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(9)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(13)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://digestingduck.blogspot.kr/2009_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogArchive1&quot;));" target="configBlogArchive1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget BlogList" id="BlogList1">
<h2 class="title">Interesting Blogs</h2>
<div class="widget-content">
<div class="blog-list-container" id="BlogList1_container">
<ul id="BlogList1_blogs">
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://aigamedev.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon.ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://aigamedev.com/" target="_blank">
Game AI for Developers</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://diaryofagraphicsprogrammer.blogspot.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(1).ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://diaryofagraphicsprogrammer.blogspot.com/" target="_blank">
Diary of a Graphics Programmer</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://www.chrisevans3d.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(2).ico" style="visibility: hidden;">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://www.chrisevans3d.com/pub_blog" target="_blank">
Stumbling Toward 'Awesomeness'</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://www.codercorner.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(3).ico" style="visibility: hidden;">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://www.codercorner.com/blog" target="_blank">
Coder Corner</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://farrarfocus.blogspot.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(4).ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://farrarfocus.blogspot.com/" target="_blank">
Atom</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://www.ai-blog.net/favicon.ico" height="16" width="16" src="http://www.ai-blog.net/favicon.ico" style="visibility: hidden;">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://www.ai-blog.net/" target="_blank">
Game/AI</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://realtimecollisiondetection.net/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(5).ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://realtimecollisiondetection.net/blog" target="_blank">
realtimecollisiondetection.net - the blog</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://gafferongames.wordpress.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(6).ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://gafferongames.wordpress.com/feed/" target="_blank">
Gaffer on Games</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
<li style="display: block;">
<div class="blog-icon">
<img data-lateloadsrc="http://chrishecker.com/favicon.ico" height="16" width="16" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/favicon(7).ico">
</div>
<div class="blog-content">
<div class="blog-title">
<a href="http://chrishecker.com/Special:WikiFeeds/atom/recentarticlechanges" target="_blank">
Chris Hecker's Website</a>
</div>
<div class="item-content">
</div>
</div>
<div style="clear: both;"></div>
</li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=BlogList&widgetId=BlogList1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogList1&quot;));" target="configBlogList1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div>
</div><div class="widget Profile" id="Profile1">
<h2>About Me</h2>
<div class="widget-content">
<dl class="profile-datablock">
<dt class="profile-data">
<a class="profile-name-link g-profile" href="https://www.blogger.com/profile/11900996590678707801" rel="author" style="background-image: url(//www.blogger.com/img/logo-16.png);" data-gapiscan="true" data-onload="true" data-gapiattached="true">
Mikko Mononen
</a>
</dt>
<dd class="profile-data">Finland</dd>
</dl>
<a class="profile-link" href="https://www.blogger.com/profile/11900996590678707801" rel="author">View my complete profile</a>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=Profile&widgetId=Profile1&action=editWidget&sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Profile1&quot;));" target="configProfile1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot section" id="footer-1"></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="Footer"><div class="widget Attribution" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Simple template. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=1272803659321539598&widgetType=Attribution&widgetId=Attribution1&action=editWidget&sectionId=footer-3" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Attribution1&quot;));" target="configAttribution1" title="Edit">
<img alt="" height="18" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script><script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/2759014865-widgets.js"></script>
<script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/jsapi"></script>
<script type="text/javascript">
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '1272803659321539598';BLOG_attachCsiOnload('item_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d1272803659321539598','//digestingduck.blogspot.kr/2010/03/simple-stupid-funnel-algorithm.html','1272803659321539598');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '1272803659321539598', 'bloggerUrl': 'https://www.blogger.com', 'title': 'Digesting Duck', 'pageType': 'item', 'postId': '561673051536523114', 'url': 'http://digestingduck.blogspot.kr/2010/03/simple-stupid-funnel-algorithm.html', 'canonicalUrl': 'http://digestingduck.blogspot.com/2010/03/simple-stupid-funnel-algorithm.html', 'homepageUrl': 'http://digestingduck.blogspot.kr/', 'canonicalHomepageUrl': 'http://digestingduck.blogspot.com/', 'blogspotFaviconUrl': 'http://digestingduck.blogspot.kr/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'disableAdSenseWidget': false, 'analyticsAccountNumber': '', 'useUniversalAnalytics': false, 'pageName': 'Simple Stupid Funnel Algorithm', 'pageTitle': 'Digesting Duck: Simple Stupid Funnel Algorithm', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Digesting Duck - Atom\42 href\75\42http://digestingduck.blogspot.com/feeds/posts/default\42 /\76\n\74link rel\75\42alternate\42 type\75\42application/rss+xml\42 title\75\42Digesting Duck - RSS\42 href\75\42http://digestingduck.blogspot.com/feeds/posts/default?alt\75rss\42 /\76\n\74link rel\75\42service.post\42 type\75\42application/atom+xml\42 title\75\42Digesting Duck - Atom\42 href\75\42https://www.blogger.com/feeds/1272803659321539598/posts/default\42 /\76\n\n\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42Digesting Duck - Atom\42 href\75\42http://digestingduck.blogspot.com/feeds/561673051536523114/comments/default\42 /\76\n', 'meTag': '', 'openIdOpTag': '', 'postImageThumbnailUrl': 'http://2.bp.blogspot.com/_-u6ZJlBFOL0/S5TVpqoFDBI/AAAAAAAAAMA/EX_UdewULu0/s72-c/funnel.png', 'postImageUrl': 'http://2.bp.blogspot.com/_-u6ZJlBFOL0/S5TVpqoFDBI/AAAAAAAAAMA/EX_UdewULu0/s400/funnel.png', 'latencyHeadScript': '\74script type\75\42text/javascript\42\76(function() { (function(){function c(a){this.t\75{};this.tick\75function(a,c,b){var d\75void 0!\75b?b:(new Date).getTime();this.t[a]\75[d,c];if(void 0\75\75b)try{window.console.timeStamp(\42CSI/\42+a)}catch(e){}};this.tick(\42start\42,null,a)}var a;window.performance\46\46(a\75window.performance.timing);var h\75a?new c(a.responseStart):new c;window.jstiming\75{Timer:c,load:h};if(a){var b\75a.navigationStart,e\75a.responseStart;0\74b\46\46e\76\75b\46\46(window.jstiming.srt\75e-b)}if(a){var d\75window.jstiming.load;0\74b\46\46e\76\75b\46\46(d.tick(\42_wtsrt\42,void 0,b),d.tick(\42wtsrt_\42,\n\42_wtsrt\42,e),d.tick(\42tbsd_\42,\42wtsrt_\42))}try{a\75null,window.chrome\46\46window.chrome.csi\46\46(a\75Math.floor(window.chrome.csi().pageT),d\46\0460\74b\46\46(d.tick(\42_tbnd\42,void 0,window.chrome.csi().startE),d.tick(\42tbnd_\42,\42_tbnd\42,b))),null\75\75a\46\46window.gtbExternal\46\46(a\75window.gtbExternal.pageT()),null\75\75a\46\46window.external\46\46(a\75window.external.pageT,d\46\0460\74b\46\46(d.tick(\42_tbnd\42,void 0,window.external.startE),d.tick(\42tbnd_\42,\42_tbnd\42,b))),a\46\46(window.jstiming.pt\75a)}catch(k){}})();window.tickAboveFold\75function(c){var a\0750;if(c.offsetParent){do a+\75c.offsetTop;while(c\75c.offsetParent)}c\75a;750\76\75c\46\46window.jstiming.load.tick(\42aft\42)};var f\75!1;function g(){f||(f\75!0,window.jstiming.load.tick(\42firstScrollTime\42))}window.addEventListener?window.addEventListener(\42scroll\42,g,!1):window.attachEvent(\42onscroll\42,g);\n })();\74/script\076', 'mobileHeadScript': '', 'ieCssRetrofitLinks': '\74!--[if IE]\76\74script type\75\42text/javascript\42 src\75\42https://www.blogger.com/static/v1/jsbin/1494333581-ieretrofit.js\42\76\74/script\76\n\74![endif]--\076', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/f01787774e22c89a', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n', 'tf': ''}}, {'name': 'messages', 'data': {'archive': 'Archive', 'deleteBacklink': 'Delete Backlink', 'deleteComment': 'Delete Comment', 'keepReading': 'Keep reading', 'labels': 'Labels', 'loading': 'Loading...', 'myBlogList': 'My Blog List', 'myFavoriteSites': 'My favorite sites', 'newer': 'Newer', 'newest': 'Newest', 'noTitle': 'No title', 'older': 'Older', 'oldest': 'Oldest', 'popularPosts': 'Popular Posts', 'popularPostsFromThisBlog': 'Popular posts from this blog', 'postAComment': 'Post a Comment', 'reportAbuse': 'Report Abuse', 'search': 'Search', 'share': 'Share', 'showAll': 'Show all', 'subscribe': 'Subscribe', 'subscribeToThisBlog': 'Subscribe to this blog', 'onlyTeamMembersCanComment': 'Note: Only a member of this blog may post a comment.'}}, {'name': 'skin', 'data': {'vars': {'post_footer_background_color': '#eeeeee', 'tabs_text_color': '#000000', 'date_header_letterspacing': '3px', 'content_shadow_spread': '0', 'body_background_override': '', 'description_text_size': '18px', 'mobile_background_size': 'auto', 'header_shadow_spread': '0', 'image_border_color': '#eeeeee', 'date_header_color': '#999999', 'header_shadow_offset_top': '0', 'header_border_horizontalsize': '1px', 'widget_title_font': 'normal bold 10px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_border_color': '#dddddd', 'tabs_bevel_border_width': '1px', 'body_background_gradient_tile': 'none', 'description_text_color': '#bbbbbb', 'main_section_margin': '1em', 'post_title_font': 'normal normal 30px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'page_width': 'auto', 'paging_background': 'transparent url(http://www.blogblog.com/1kt/simple/paging_dot.png) repeat-x scroll top center', 'body_text_color': '#444444', 'content_padding': '10px', 'header_background_gradient': 'none', 'post_margin_bottom': '45px', 'header_shadow_offset_left': '0', 'tabs_background_color': 'transparent', 'content_background_color': '#ffffff', 'body_background_gradient_cap': 'none', 'main_padding_top': '35px', 'widget_alternate_text_color': '#999999', 'image_text_color': '#444444', 'link_visited_color': '#888888', 'tabs_margin_side': '30px', 'image_border_large_size': '5px', 'content_shadow_spread_webkit': '0', 'mobile_button_color': '#ffffff', 'tabs_selected_text_color': '#000000', 'main_border_width': '0', 'content_background_color_selector': '.content-inner', 'link_color': '#2288bb', 'post_footer_border_color': '#eeeeee', 'date_header_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_background_gradient': 'none', 'content_padding_horizontal': '40px', 'header_font': 'normal normal 40px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'startSide': 'left', 'tabs_font': 'normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_title_text_color': '#000000', 'header_border_size': '1px', 'tabs_selected_background_color': '#eeeeee', 'date_header_margin': 'inherit', 'footer_bevel': '1px', 'image_border_small_size': '2px', 'content_shadow_spread_ie': '0', 'mobile_background_overlay': 'transparent none repeat scroll top left', 'endSide': 'right', 'date_header_padding': '0.4em', 'image_background_color': '#ffffff', 'body_rule_color': 'transparent', 'header_bottom_border_size': '0', 'page_width_selector': '.region-inner', 'body_background_color': '#ffffff', 'header_text_color': '#444444', 'main_padding': '0', 'date_header_background_color': 'transparent', 'tabs_border_width': '1px', 'body_font': 'normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'link_hover_color': '#33aaff', 'header_background_color': 'transparent', 'keycolor': '#ffffff', 'main_padding_bottom': '65px', 'post_footer_text_color': '#666666', 'tabs_margin_top': '0', 'header_padding': '0'}, 'override': ''}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\75classic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\75flipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\75magazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\75mosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\75sidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\75snapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\75timeslide'}}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/68035727-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/1185134592-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_CustomSearchView', new _WidgetInfo('CustomSearch1', 'sidebar-right-1', null, document.getElementById('CustomSearch1'), {'title': 'Search This Blog', 'includeBlog': true, 'includePostLinks': true, 'includeWeb': true, 'linkLists': [], 'blogUrl': 'http://digestingduck.blogspot.com/', 'loadingMsg': 'Loading...', 'thisBlogMsg': 'This Blog', 'linkedFromHereMsg': 'Linked From Here', 'theWebMsg': 'The Web', 'backgroundColor': '#ffffff', 'textColor': '#444444', 'dateColor': '#bbbbbb', 'linkColor': '#2288bb', 'urlColor': '#2288bb', 'visitedLinkColor': '#888888', 'borderColor': '#dddddd', 'activeBorderColor': '#dddddd', 'cse_ua': false}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar-right-1', null, document.getElementById('LinkList1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_GadgetView', new _WidgetInfo('Gadget1', 'sidebar-right-1', null, document.getElementById('Gadget1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading...'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogListView', new _WidgetInfo('BlogList1', 'sidebar-right-1', null, document.getElementById('BlogList1'), {'numItemsToShow': 0, 'totalItems': 9}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', null, document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Simple template. Powered by \74a href\75\47https://www.blogger.com\47 target\75\47_blank\47\76Blogger\74/a\76.'}, 'displayModeFull'));
</script>

<link type="text/css" rel="stylesheet" href="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/1185134592-lightbox_bundle.css"><script type="text/javascript" src="./Digesting Duck_ Simple Stupid Funnel Algorithm_files/68035727-lbx.js"></script></body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span></html>